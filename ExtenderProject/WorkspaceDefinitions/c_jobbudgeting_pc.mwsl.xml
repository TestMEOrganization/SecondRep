<?xml version="1.0" encoding="UTF-8"?>
<!--2bae8608f163473e70fe9a2f9509bf7554760349-->
<!--
  Revision=191a890063347ac5105d387c300b16c33e205212
  RevisionTag=v2012.04.19_12.05.13_MartinKjeldsen
  Layer=Custom
  Deployer=admin
  Time=19-04-12 12:05
  StampVersion=1
-->
<!--0b458e4955753c3514d52306731d73d3b95cc206-->
<!--
  Revision=879fe3ff52aabe538ae6404343bf898b1abe6f1f
  RevisionTag=v2012.03.02_01.15.33_MartinKjeldsen
  Layer=Custom
  Deployer=MartinKjeldsen
  Time=02-03-12 01:16
  StampVersion=1
-->
<!--
  #Message-digest d103dabedf3aed7a190d9804d54fec28   3 _ _   213
  TAC*Format: XML
  TAC_isLicense: no
  TAC_Version: 2
  TAC_Author: Release Manager
  TAC_Organization: Maconomy R&D
  TAC_CreationDate: 28.10.2011
  TAC_CreationTime: 14:31:39
  TAC*MaconomyHQ: yes
-->
<!-- SJK, 20/04/09: First version (37651).-->
<!-- KRN, 02/06/09: New xml tags (37750).-->
<!-- SJK, 10/06/09: Next version (37767).-->
<!-- MJA, 26/06/09: Rename "Original" views to "Standard" (37797).-->
<!-- SJK, 07/07/09: Dialog 'Time Estimation Categories' -> 'Time Budget Categories' (37817).-->
<!-- SJK, 07/07/09: TimeEstimates -> TimeBudgets (37817).-->
<!-- SJK, 08/07/09: Job Estimating expanded and renamed to Job Budgeting (37823).-->
<!-- SJK, 09/12/09: Updated after design (38153).-->
<!-- SJK, 06/07/10: Updates after review (38574).-->
<!-- SJK, 20/09/10: TimeBudgetCategories renamed to TimeBudgetResources (38887).-->
<!-- SJK, 23/09/10: Hide assistants when they are unused (38713).-->
<!-- SJK, 22/09/10: Demo layout for time details (38887).-->
<!-- KRN, 27/09/10: Name on job budget card for notification (38912).-->
<!-- SJK, 30/11/10: added view to TimeBudgetResources (39110).-->
<!-- SJK, 22/12/10: Demo layouts for job planning and periodic budget (39185).-->
<!-- KUN, 19/01/11: Added name to Amount Budget pane so that we can link to that pane (39353).-->
<!-- BPE, 20/01/11: Updating foreign keys (39350).-->
<!-- PSZ, 11/07/11: PSO Jobs workspace changes (39759).-->
<!-- SBA, 09/08/11: Using solutionconfiguration propertied (39759). -->
<MWSL xmlns="http://www.deltek.com/ns/mwsl" version="0.23">
  <Workspace name="C_JobBudgeting_PC" title="Job Estimating">
    <Card source="JobBudgets" name="JobBudgets_Card" view="Custom_Work_Cont" title="Budget">
      <Expansions>
        <Bind foreignKey="Card_ShowBudgetTypeVar_JobBudget">
          <Hidden source="TimeBudgets">
            <With>
              <Table view="Work_Cont" title="Time">
                <Assistants>
                  <Bind foreignKey="primary">
                    <Table source="JobBudgetTimeDetails" view="Custom_Time" title="Price Breakdown" hidden="hasNoSeed()" />
                  </Bind>
                </Assistants>
              </Table>
            </With>
          </Hidden>
        </Bind>
        <Bind foreignKey="Card_ShowBudgetTypeVar_JobBudget">
          <Table source="AmountBudgets" view="Work_Cont" name="AmountBudget_Table" title="Amount">
            <Assistants>
              <Bind foreignKey="primary">
                <Table source="JobBudgetItemLines" view="Custom" title="Items" />
                <Hidden source="JobBudgetItemLines">
                  <Restrict reversedForeignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                    <Filter source="API_PurchaseOrderLines" view="Standard" title="Purchases" />
                  </Restrict>
                </Hidden>
              </Bind>
            </Assistants>
          </Table>
        </Bind>
        <Bind foreignKey="Card_ShowBudgetTypeVar_JobBudget">
          <Hidden source="AmountBudgets">
            <!-- <Assistants>
							<Bind foreignKey="primary">
								<Table source="JobBudgetItemLines" view="Full" title="Items" />
								<Hidden source="JobBudgetItemLines">
									<Restrict reversedForeignKey="JobBudgetLineInstanceKey_JobBudgetLine">
										<Filter source="API_PurchaseOrderLines" view="Standard" title="Purchases" />
									</Restrict>
								</Hidden>
							</Bind>
						</Assistants>-->
          </Hidden>
        </Bind>
        <With>
          <Table title="Full Budget" view="Work_Cont">
            <Assistants>
              <Bind foreignKey="primary">
                <Table source="JobBudgetTimeDetails" view="Custom" title="Resources" hidden="hasNoSeed()" />
                <Table source="JobBudgetItemLines" view="Full" title="Items" hidden="hasNoSeed()" />
                <Hidden source="JobBudgetItemLines">
                  <Restrict reversedForeignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                    <Filter source="API_PurchaseOrderLines" view="Standard" title="Purchases" hidden="hasNoSeed()" />
                  </Restrict>
                </Hidden>
              </Bind>
            </Assistants>
          </Table>
        </With>
        <!-- ************ Basware Budget Report ************** -->
        <Bind foreignKey="primary" >
        	<Card source="Jobs" view="Budget" title="Budget" />
        </Bind>
        <!-- ********************************************** -->
      </Expansions>
      <Assistants>
        <Bind foreignKey="primary">
          <Table source="TimeBudgetResources" view="Custom" title="Resources" hidden="hasNoSeed()" />
        </Bind>
      </Assistants>
    </Card>
    <Hidden source="Jobs">
      <Restrict reversedForeignKey="JobNumber_JobHeader">
        <Filter source="JobBudgetRevisions" view="Jobs" title="Budget Revisions">
          <Expansions parentSize="small">
            <With>
              <Card title="Budget" view="Standard">
                <Expansions>
                  <Bind foreignKey="primary">
                    <Hidden source="TimeBudgetRevisions">
                      <With>
                        <Table view="Standard" title="Time">
                          <Assistants>
                            <Bind foreignKey="primary">
                              <Table source="JobBudgetTimeDetails" view="Demo" title="Price Breakdown" hidden="hasNoSeed()" />
                            </Bind>
                          </Assistants>
                        </Table>
                      </With>
                    </Hidden>
                    <Table source="AmountBudgetRevisions" view="Standard" title="Amount">
                      <Assistants>
                        <Bind foreignKey="primary">
                          <Table source="JobBudgetItemLines" view="Full" title="Items" />
                        </Bind>
                      </Assistants>
                    </Table>
                  </Bind>
                  <With>
                    <Table view="Standard" title="Full Budget">
                      <Assistants>
                        <Bind foreignKey="primary">
                          <Table source="JobBudgetTimeDetails" view="Demo" title="Resources" hidden="hasNoSeed()" />
                          <Table source="JobBudgetItemLines" view="Full" title="Items" hidden="hasNoSeed()" />
                        </Bind>
                      </Assistants>
                    </Table>
                  </With>
                </Expansions>
              </Card>
            </With>
          </Expansions>
        </Filter>
      </Restrict>
    </Hidden>
    <Card source="PeriodicJobBudgets" view="Standard" title="Periodic Budget" hidden="isEnvVarDefined('solutionconfiguration.UsePeriodicJobBudgets') 
                                           and not booleanEnvVar('solutionconfiguration.UsePeriodicJobBudgets')">
			<Expansions>
				<With>
					<Table title="Details" />
				</With>
			</Expansions>
		</Card>
		<!-- <Card source="JobPlanning" view="Demo" title="Job Planning" hidden="isEnvVarDefined('solutionconfiguration.UseJobPlanning') 
                                    and not booleanEnvVar('solutionconfiguration.UseJobPlanning')">
			<Expansions>
				<With>
					<Table title="Details" view="Full" />
				</With>
			</Expansions>
		</Card> -->
    <!-- <Card source="PeriodicSumJobBudgets" view="Standard" title="Forecast" hidden="isEnvVarDefined('solutionconfiguration.UseJobForecasting') 
                                         and not booleanEnvVar('solutionconfiguration.UseJobForecasting')">
			<Expansions>
				<With>
					<Table title="Details" />
				</With>
			</Expansions>
		</Card>
		<Card source="QuoteEditing" view="Demo" title="Quote" hidden="isEnvVarDefined('solutionconfiguration.UseJobQuotes') 
                                 and not booleanEnvVar('solutionconfiguration.UseJobQuotes')">
			<Expansions>
				<With>
					<Table view="Full" title="Specification" />
				</With>
			</Expansions>
		</Card>
		<Hidden source="Jobs">
			<Restrict reversedForeignKey="JobNumber_JobHeader">
				<Filter source="QuoteRevisions" view="Standard" title="Quote Revisions" hidden="isEnvVarDefined('solutionconfiguration.UseJobQuotes') 
                                            and not booleanEnvVar('solutionconfiguration.UseJobQuotes')">
					<Expansions>
						<With>
							<Card title="Quote" view="Full">
								<Expansions>
									<With>
										<Table title="Specification" />
									</With>
								</Expansions>
							</Card>
						</With>
					</Expansions>
				</Filter>
			</Restrict>
		</Hidden>-->
  </Workspace>
</MWSL>

