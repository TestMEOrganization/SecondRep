<?xml version="1.0" encoding="UTF-8"?>
<!-- KUN, 22/12/09: New workspace (39095).-->
<!-- KUN, 22/12/10: Included the new approval workspace (39253).-->
<!-- KUN, 22/12/10: Changed and added titles (39253) -->
<!-- KUN, 20/01/11: Added job budget line assistants (39360).-->
<!-- CSK, 22/07/11: Name added for the purchase process filter (39786).-->
<!-- CSK, 06/09/11: Names added to Requisitions and PurchaseOrders panes, for workspace links (39786).-->
<!-- KUN, 04/10/11: Added purchase order line section (39994).-->
<!-- KUN, 11/10/11: Use highlighted row view (39994).-->
<!-- KUN, 14/11/11: Performance improvements (40159).-->
<MWSL xmlns="http://www.deltek.com/ns/mwsl" version="0.23">
  <Workspace name="PurchaseProcesses" title="Purchase Processes">
    <Filter source="PurchaseProcesses" view="Standard" title="Purchase Processes" name="PurchaseProcessFilter">
      <Expansions>
        <Bind foreignKey="primary">
          <Hidden source="PurchaseProcesses" >
            <Expansions parentSize="tiny">
              <Bind foreignKey="PurchaseProcessRequisitionNumberVar_RequisitionHeader">
                <Card source="Requisitions" title="Requisition" view="Custom" hidden="parent.PurchaseProcessRequisitionNumberVar = -1" name="RequisitionsCard">
                  <With>
                    <Table title="Specification" view="PurchaseProcess">
                      <Assistants>
                        <Bind foreignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                          <Card source="JobBudgetItemLines" view="PurchaseProcess" title="Job Budget Line" hidden="parent.JobBudgetLineInstanceKey = ''">
                            <Expansions minimized="false">
                              <With>
                                <Table view="PurchaseProcess" title="Item Lines" hidden="hasNoRecords()" />
                              </With>
                            </Expansions>
                          </Card>
                        </Bind>
                      </Assistants>
                    </Table>
                  </With>
                </Card>
              </Bind>
              <Bind foreignKey="SingleRequestForQuoteNumber_RequestForQuoteHeader">
                <Card source="RequestsForQuote" title="Request for Quote" view="Custom" hidden="parent.SingleRequestForQuoteNumberVar = -1" name="RequestsForQuoteCard">
                  <With>
                    <Table title="Specification" view="PurchaseProcess">
                      <Assistants>
                        <Bind foreignKey="primary">
                          <Card source="API_RequestForQuoteLines" view="PurchaseProcess" title="Details" />
                        </Bind>
                        <Bind foreignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                          <Card source="JobBudgetItemLines" view="PurchaseProcess" title="Job Budget Line" hidden="parent.JobBudgetLineInstanceKey = ''">
                            <Expansions minimized="false">
                              <With>
                                <Table view="PurchaseProcess" title="Item Lines" hidden="hasNoRecords()" />
                              </With>
                            </Expansions>
                          </Card>
                        </Bind>
                      </Assistants>
                    </Table>
                  </With>
                  <Bind foreignKey="DocumentArchiveNumber_DocumentArchiveHeader">
                    <Hidden source="DocumentArchives">
                      <With>
                        <Table view="Demo" hidden="parent.parent.DocumentArchiveNumber = ''" />
                      </With>
                    </Hidden>
                  </Bind>
                </Card>
              </Bind>
              <Bind foreignKey="MultipleRFQNumber_PurchaseProcessHeader">
                <Hidden source="PurchaseProcesses">
                  <Restrict reversedForeignKey="PurchaseProcessNumber_PurchaseProcessHeader">
                    <Filter source="RequestsForQuote" view="Standard" title="Requests for Quote" hidden="parent.parent.MultipleRFQPurchaseProcessNumberVar = ''">
                      <Expansions minimized="false">
                        <With>
                          <Card title="Request for Quote" view="Custom">
                            <With>
                              <Table title="Specification" view="PurchaseProcess">
                                <Assistants>
                                  <Bind foreignKey="primary">
                                    <Card source="API_RequestForQuoteLines" view="PurchaseProcess" title="Details" />
                                  </Bind>
                                  <Bind foreignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                                    <Card source="JobBudgetItemLines" view="PurchaseProcess" title="Job Budget Line" hidden="parent.JobBudgetLineInstanceKey = ''">
                                      <Expansions minimized="false">
                                        <With>
                                          <Table view="PurchaseProcess" title="Item Lines" hidden="hasNoRecords()" />
                                        </With>
                                      </Expansions>
                                    </Card>
                                  </Bind>
                                </Assistants>
                              </Table>
                            </With>
                            <Bind foreignKey="DocumentArchiveNumber_DocumentArchiveHeader">
                              <Hidden source="DocumentArchives">
                                <With>
                                  <Table view="Demo" hidden="parent.parent.DocumentArchiveNumber = ''" />
                                </With>
                              </Hidden>
                            </Bind>
                          </Card>
                        </With>
                      </Expansions>
                    </Filter>
                  </Restrict>
                </Hidden>
              </Bind>
              <Bind foreignKey="SinglePurchaseOrderNumber_PurchaseOrderHeader">
                <Card source="PurchaseOrders" title="Purchase Order" view="Custom" hidden="parent.SinglePurchaseOrderNumberVar = -1" name="PurchaseOrdersCard">
                  <Expansions>
                    <With>
                      <Table view="PurchaseProcess" title="Allocation">
                        <Assistants>
                          <Bind foreignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                            <Card source="JobBudgetItemLines" view="PurchaseProcess" title="Job Budget Line" hidden="parent.JobBudgetLineInstanceKey = ''">
                              <Expansions minimized="false">
                                <With>
                                  <Table view="PurchaseProcess" title="Item Lines" hidden="hasNoRecords()" />
                                </With>
                              </Expansions>
                            </Card>
                          </Bind>
                        </Assistants>
                      </Table>
                    </With>
                    <Bind foreignKey="DocumentArchiveNumber_DocumentArchiveHeader">
                      <Hidden source="DocumentArchives">
                        <With>
                          <Table view="Demo" hidden="parent.parent.DocumentArchiveNumber = ''" />
                        </With>
                      </Hidden>
                    </Bind>
                  </Expansions>
                  <Assistants enlarged="true">
                    <Bind foreignKey="ApprovalGroupInstanceKey_ApprovalGroup">
                      <Workspace source="ApprovalGroups" />
                    </Bind>
                    <Restrict reversedForeignKey="PurchaseOrderNumber_PurchaseOrderHeader">
                      <Filter source="ShowInvoiceAllocationLines" view="Standard" title="Related Invoice Allocation Lines" hidden="not parent.VendorInvoiceCreatedVar">
                        <Expansions>
                          <With>
                            <Card view="Full" title="Invoice Allocation Line" />
                          </With>
                        </Expansions>
                      </Filter>
                    </Restrict>
                  </Assistants>
                </Card>
              </Bind>
              <Bind foreignKey="MultiplePONumber_PurchaseProcessHeader">
                <Hidden source="PurchaseProcesses">
                  <Restrict reversedForeignKey="PurchaseProcessNumber_PurchaseProcessHeader">
                    <Filter source="PurchaseOrders" view="Standard" hidden="parent.parent.MultiplePOPurchaseProcessNumberVar = ''" title="Purchase Orders">
                      <Expansions minimized="false">
                        <With>
                          <Card title="Purchase Order" view="Custom">
                            <Expansions>
                              <With>
                                <Table view="PurchaseProcess" title="Allocation">
                                  <Assistants>
                                    <Bind foreignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                                      <Card source="JobBudgetItemLines" view="PurchaseProcess" title="Job Budget Line" hidden="parent.JobBudgetLineInstanceKey = ''">
                                        <Expansions minimized="false">
                                          <With>
                                            <Table view="PurchaseProcess" title="Item Lines" hidden="hasNoRecords()" />
                                          </With>
                                        </Expansions>
                                      </Card>
                                    </Bind>
                                  </Assistants>
                                </Table>
                              </With>
                              <Bind foreignKey="DocumentArchiveNumber_DocumentArchiveHeader">
                                <Hidden source="DocumentArchives">
                                  <With>
                                    <Table view="Demo" hidden="parent.parent.DocumentArchiveNumber = ''" />
                                  </With>
                                </Hidden>
                              </Bind>
                            </Expansions>
                            <Assistants enlarged="true">
                              <Bind foreignKey="ApprovalGroupInstanceKey_ApprovalGroup">
                                <Workspace source="ApprovalGroups" />
                              </Bind>
                              <Restrict reversedForeignKey="PurchaseOrderNumber_PurchaseOrderHeader">
                                <Filter source="ShowInvoiceAllocationLines" view="Standard" title="Related Invoice Allocation Lines" hidden="not parent.VendorInvoiceCreatedVar">
                                  <Expansions>
                                    <With>
                                      <Card view="Full" title="Invoice Allocation Line" />
                                    </With>
                                  </Expansions>
                                </Filter>
                              </Restrict>
                            </Assistants>
                          </Card>
                        </With>
                      </Expansions>
                    </Filter>
                  </Restrict>
                </Hidden>
              </Bind>
            </Expansions>
          </Hidden>
        </Bind>
      </Expansions>
    </Filter>
    <Filter source="ShowPurchaseOrderLines" view="PurchaseProcess" title="Purchase Order Allocations">
      <Expansions>
        <Bind foreignKey="PurchaseOrderNumber_PurchaseOrderHeader">
          <Hidden source="PurchaseOrders">
            <Bind foreignKey="PurchaseProcessNumber_PurchaseProcessHeader">
              <Card source="PurchaseProcesses" view="Full" title="Purchase Process">
                <Expansions parentSize="tiny">
                  <Bind foreignKey="PurchaseProcessRequisitionNumberVar_RequisitionHeader">
                    <Card source="Requisitions" title="Requisition" view="Custom" hidden="parent.PurchaseProcessRequisitionNumberVar = -1">
                      <With>
                        <Table title="Specification" view="PurchaseProcess">
                          <Assistants>
                            <Bind foreignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                              <Card source="JobBudgetItemLines" view="PurchaseProcess" title="Job Budget Line" hidden="parent.JobBudgetLineInstanceKey = ''">
                                <Expansions minimized="false">
                                  <With>
                                    <Table view="PurchaseProcess" title="Item Lines" hidden="hasNoRecords()" />
                                  </With>
                                </Expansions>
                              </Card>
                            </Bind>
                          </Assistants>
                        </Table>
                      </With>
                    </Card>
                  </Bind>
                  <Bind foreignKey="SingleRequestForQuoteNumber_RequestForQuoteHeader">
                    <Card source="RequestsForQuote" title="Request for Quote" view="Custom" hidden="parent.SingleRequestForQuoteNumberVar = -1" name="RequestsForQuoteCard">
                      <With>
                        <Table title="Specification" view="PurchaseProcess">
                          <Assistants>
                            <Bind foreignKey="primary">
                              <Card source="API_RequestForQuoteLines" view="PurchaseProcess" title="Details" />
                            </Bind>
                            <Bind foreignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                              <Card source="JobBudgetItemLines" view="PurchaseProcess" title="Job Budget Line" hidden="parent.JobBudgetLineInstanceKey = ''">
                                <Expansions minimized="false">
                                  <With>
                                    <Table view="PurchaseProcess" title="Item Lines" hidden="hasNoRecords()" />
                                  </With>
                                </Expansions>
                              </Card>
                            </Bind>
                          </Assistants>
                        </Table>
                      </With>
                      <Bind foreignKey="DocumentArchiveNumber_DocumentArchiveHeader">
                        <Hidden source="DocumentArchives">
                          <With>
                            <Table view="Demo" hidden="parent.parent.DocumentArchiveNumber = ''" />
                          </With>
                        </Hidden>
                      </Bind>
                    </Card>
                  </Bind>
                  <Bind foreignKey="MultipleRFQNumber_PurchaseProcessHeader">
                    <Hidden source="PurchaseProcesses">
                      <Restrict reversedForeignKey="PurchaseProcessNumber_PurchaseProcessHeader">
                        <Filter source="RequestsForQuote" view="Standard" title="Requests for Quote" hidden="parent.parent.MultipleRFQPurchaseProcessNumberVar = ''">
                          <Expansions minimized="false">
                            <With>
                              <Card title="Request for Quote" view="Custom">
                                <With>
                                  <Table title="Specification" view="PurchaseProcess">
                                    <Assistants>
                                      <Bind foreignKey="primary">
                                        <Card source="API_RequestForQuoteLines" view="PurchaseProcess" title="Details" />
                                      </Bind>
                                      <Bind foreignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                                        <Card source="JobBudgetItemLines" view="PurchaseProcess" title="Job Budget Line" hidden="parent.JobBudgetLineInstanceKey = ''">
                                          <Expansions minimized="false">
                                            <With>
                                              <Table view="PurchaseProcess" title="Item Lines" hidden="hasNoRecords()" />
                                            </With>
                                          </Expansions>
                                        </Card>
                                      </Bind>
                                    </Assistants>
                                  </Table>
                                </With>
                                <Bind foreignKey="DocumentArchiveNumber_DocumentArchiveHeader">
                                  <Hidden source="DocumentArchives">
                                    <With>
                                      <Table view="Demo" hidden="parent.parent.DocumentArchiveNumber = ''" />
                                    </With>
                                  </Hidden>
                                </Bind>
                              </Card>
                            </With>
                          </Expansions>
                        </Filter>
                      </Restrict>
                    </Hidden>
                  </Bind>
                  <Bind foreignKey="SinglePurchaseOrderNumber_PurchaseOrderHeader">
                    <Card source="PurchaseOrders" title="Purchase Order" view="Custom" hidden="parent.SinglePurchaseOrderNumberVar = -1">
                      <Expansions>
                        <With>
                          <Table view="PurchaseProcessHighlightRow" title="Allocation">
                            <Assistants>
                              <Bind foreignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                                <Card source="JobBudgetItemLines" view="PurchaseProcess" title="Job Budget Line" hidden="parent.JobBudgetLineInstanceKey = ''">
                                  <Expansions minimized="false">
                                    <With>
                                      <Table view="PurchaseProcess" title="Item Lines" hidden="hasNoRecords()" />
                                    </With>
                                  </Expansions>
                                </Card>
                              </Bind>
                            </Assistants>
                          </Table>
                        </With>
                        <Bind foreignKey="DocumentArchiveNumber_DocumentArchiveHeader">
                          <Hidden source="DocumentArchives">
                            <With>
                              <Table view="Demo" hidden="parent.parent.DocumentArchiveNumber = ''" />
                            </With>
                          </Hidden>
                        </Bind>
                      </Expansions>
                      <Assistants enlarged="true">
                        <Bind foreignKey="ApprovalGroupInstanceKey_ApprovalGroup">
                          <Workspace source="ApprovalGroups" />
                        </Bind>
                        <Restrict reversedForeignKey="PurchaseOrderNumber_PurchaseOrderHeader">
                          <Filter source="ShowInvoiceAllocationLines" view="Standard" title="Related Invoice Allocation Lines" hidden="not parent.VendorInvoiceCreatedVar">
                            <Expansions>
                              <With>
                                <Card view="Full" title="Invoice Allocation Line" />
                              </With>
                            </Expansions>
                          </Filter>
                        </Restrict>
                      </Assistants>
                    </Card>
                  </Bind>
                  <Bind foreignKey="MultiplePONumber_PurchaseProcessHeader">
                    <Hidden source="PurchaseProcesses">
                      <Restrict reversedForeignKey="PurchaseProcessNumber_PurchaseProcessHeader">
                        <Filter source="PurchaseOrders" view="Standard" hidden="parent.parent.MultiplePOPurchaseProcessNumberVar = ''" title="Purchase Orders">
                          <Expansions minimized="false">
                            <With>
                              <Card title="Purchase Order" view="Custom">
                                <Expansions>
                                  <With>
                                    <Table view="PurchaseProcessHighlightRow" title="Allocation">
                                      <Assistants>
                                        <Bind foreignKey="JobBudgetLineInstanceKey_JobBudgetLine">
                                          <Card source="JobBudgetItemLines" view="PurchaseProcess" title="Job Budget Line" hidden="parent.JobBudgetLineInstanceKey = ''">
                                            <Expansions minimized="false">
                                              <With>
                                                <Table view="PurchaseProcess" title="Item Lines" hidden="hasNoRecords()" />
                                              </With>
                                            </Expansions>
                                          </Card>
                                        </Bind>
                                      </Assistants>
                                    </Table>
                                  </With>
                                  <Bind foreignKey="DocumentArchiveNumber_DocumentArchiveHeader">
                                    <Hidden source="DocumentArchives">
                                      <With>
                                        <Table view="Demo" hidden="parent.parent.DocumentArchiveNumber = ''" />
                                      </With>
                                    </Hidden>
                                  </Bind>
                                </Expansions>
                                <Assistants enlarged="true">
                                  <Bind foreignKey="ApprovalGroupInstanceKey_ApprovalGroup">
                                    <Workspace source="ApprovalGroups" />
                                  </Bind>
                                  <Restrict reversedForeignKey="PurchaseOrderNumber_PurchaseOrderHeader">
                                    <Filter source="ShowInvoiceAllocationLines" view="Standard" title="Related Invoice Allocation Lines" hidden="not parent.VendorInvoiceCreatedVar">
                                      <Expansions>
                                        <With>
                                          <Card view="Full" title="Invoice Allocation Line" />
                                        </With>
                                      </Expansions>
                                    </Filter>
                                  </Restrict>
                                </Assistants>
                              </Card>
                            </With>
                          </Expansions>
                        </Filter>
                      </Restrict>
                    </Hidden>
                  </Bind>
                </Expansions>
              </Card>
            </Bind>
          </Hidden>
        </Bind>
      </Expansions>
    </Filter>
    	<Workspace source="SD_PurchaseReceipt" />
  </Workspace>
</MWSL>

