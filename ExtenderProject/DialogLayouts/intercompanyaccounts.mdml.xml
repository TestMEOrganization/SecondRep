<?xml version="1.0" encoding="UTF-8"?>
<!-- RMA, 06/04/09: Create empty forms for every dialog (37642).-->
<!-- CSK, 29/04/09: Original layout added (37673).-->
<!-- MJA, 26/06/09: Rename "Original" views to "Standard" (37797).-->
<!-- JSV, 02/07/09: Insert Original layout converted from mdl and filter layout (37802).-->
<!-- CSK, 07/07/09: Standard views deleted (37673).-->
<!-- MJA, 27/10/09: Update Original layout and remove Empty layout (37802).-->
<!-- KUN, 07/07/10: Added group and columns for user update information (38625).-->
<!-- CSK, 12/04/11: DimensionOrigin view added (39547).-->
<!-- PSZ, 20/06/11: Original layout should be placed as the first layout (39299).-->
<!-- CSK, 11/10/11: Possible to edit account in DimensionOrigin (39547).-->
<MDML xmlns="http://www.deltek.com/ns/mdml" version="0.59">
  <Layout source="IntercompanyAccounts">
    <UpperPane>
      <Form name="Custom_RoleRestricted_Full">
        <Actions all="true" >
          <Exclude>
            <If condition="not hasRole('Finance Admin')">
              <Create />
              <Update />
              <Delete />
            </If>
          </Exclude>
        </Actions>
        <Column>
          <Group ref="UserUpdateGroup" />
        </Column>
      </Form>
      <Form name="Full">
        <Actions all="true" />
        <Column>
          <Group ref="UserUpdateGroup" />
        </Column>
      </Form>
    </UpperPane>
    <LowerPane>
      <Table name="Custom_RoleRestricted_Full">
        <Actions all="true" >
          <Exclude>
            <If condition="not hasRole('Finance Admin')">
              <Create />
              <Update />
              <Delete />
            </If>
          </Exclude>
          </Actions>
        <Columns>
          <Field source="IntercompanyName" title="Intercompany Type" />
          <Field source="ResponsibleCompanyAccount" />
          <Field source="ResponsibleCompanySubledgerText" />
          <Field source="IntercompanyCompanyAccount" />
          <Field source="IntercompanyCompanySubledgerText" />
        </Columns>
      </Table>
      <Table name="Full">
        <Actions all="true" />
        <Columns>
          <Field source="IntercompanyName" title="Intercompany Type" />
          <Field source="ResponsibleCompanyAccount" />
          <Field source="ResponsibleCompanySubledgerText" />
          <Field source="IntercompanyCompanyAccount" />
          <Field source="IntercompanyCompanySubledgerText" />
        </Columns>
      </Table>
      <Table name="Custom_RoleRestricted_DimensionOrigin">
        <Actions>
          <Update />
        </Actions>
        <Columns>
        <If condition="hasRole('Finance Admin')" >
          <Field source="IntercompanyName" title="Intercompany Type" open="false" />
          <Field source="ResponsibleCompanyAccount" open="ResponsibleCompanyAccount=Parent.Parent.DimensionCombNumber">
            <Style ref="highlightRow" condition="ResponsibleCompanyAccount=Parent.Parent.DimensionCombNumber" />
          </Field>
          <Field source="ResponsibleCompanySubledgerText" open="false" />
          <Field source="IntercompanyCompanyAccount" open="IntercompanyCompanyAccount=Parent.Parent.DimensionCombNumber">
            <Style ref="highlightRow" condition="IntercompanyCompanyAccount=Parent.Parent.DimensionCombNumber" />
          </Field>
          <Field source="IntercompanyCompanySubledgerText" open="false" />
        </If>
        <Else>
          <Field source="IntercompanyName" title="Intercompany Type" open="false" />
          <Field source="ResponsibleCompanyAccount" open="false" >
            <Style ref="highlightRow" condition="ResponsibleCompanyAccount=Parent.Parent.DimensionCombNumber" />
          </Field>
          <Field source="ResponsibleCompanySubledgerText" open="false" />
          <Field source="IntercompanyCompanyAccount" open="false" >
            <Style ref="highlightRow" condition="IntercompanyCompanyAccount=Parent.Parent.DimensionCombNumber" />
          </Field>
          <Field source="IntercompanyCompanySubledgerText" open="false" />
        </Else>
        </Columns>
      </Table>
      <Table name="DimensionOrigin">
        <Actions>
          <Update />
        </Actions>
        <Columns>
          <Field source="IntercompanyName" title="Intercompany Type" open="false" />
          <Field source="ResponsibleCompanyAccount" open="ResponsibleCompanyAccount=Parent.Parent.DimensionCombNumber">
            <Style ref="highlightRow" condition="ResponsibleCompanyAccount=Parent.Parent.DimensionCombNumber" />
          </Field>
          <Field source="ResponsibleCompanySubledgerText" open="false" />
          <Field source="IntercompanyCompanyAccount" open="IntercompanyCompanyAccount=Parent.Parent.DimensionCombNumber">
            <Style ref="highlightRow" condition="IntercompanyCompanyAccount=Parent.Parent.DimensionCombNumber" />
          </Field>
          <Field source="IntercompanyCompanySubledgerText" open="false" />
        </Columns>
      </Table>
    </LowerPane>
  </Layout>
</MDML>

