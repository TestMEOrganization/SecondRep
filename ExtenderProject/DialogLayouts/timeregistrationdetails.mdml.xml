<?xml version="1.0" encoding="UTF-8"?>
<!--d5c6d280c1dd146dc00e94de080566e2780fecb6-->
<!--
  Revision=191a890063347ac5105d387c300b16c33e205212
  RevisionTag=v2012.04.19_12.05.13_MartinKjeldsen
  Layer=Custom
  Deployer=admin
  Time=19-04-12 12:05
  StampVersion=1
-->
<!--c9b02befdcb1f4b506f3745349e8d249bed2035d-->
<!--
  Revision=879fe3ff52aabe538ae6404343bf898b1abe6f1f
  RevisionTag=v2012.03.02_01.15.33_MartinKjeldsen
  Layer=Custom
  Deployer=MartinKjeldsen
  Time=02-03-12 01:16
  StampVersion=1
-->
<!--
  #Message-digest 1817e7b39fa75b227d6ced57c5b10cf5   3 _ _   210
  TAC*Format: XML
  TAC_isLicense: no
  TAC_Version: 2
  TAC_Author: Release Manager
  TAC_Organization: Maconomy R&D
  TAC_CreationDate: 7.12.2011
  TAC_CreationTime: 9:3:14
  TAC*MaconomyHQ: yes
-->
<!-- JSV, 27/04/10: New Original layout (37948).-->
<!-- JSV, 30/06/10: Show project manager approval status, customer and project manager info (38602).-->
<!-- PSZ, 16/07/10: New field Invoiceable (38561).-->
<!-- JSV, 13/09/10: Zero-suppression on number of hours. Split off Descriptions in new form (37948).-->
<!-- JSV, 24/11/10: Show activity in Demo layout (39087).-->
<!-- JSV, 01/12/10: Conditional style on daily descriptions, activity, ETC and status (39162).-->
<!-- JSV, 03/12/10: Break Details form layout into two columns (39190).-->
<!-- PSZ, 08/12/10: Use onDemand suggestions for relevant fields (39127).-->
<!-- JSV, 16/12/10: Show job and task in Demo form (39233).-->
<!-- SBA, 17/12/10: Show days outside split-week as closed (39235).-->
<!-- JSV, 17/12/10: Show project manager number and name using Reference (39233).-->
<!-- SBA, 22/12/10: Adding Description pane for approve time sheet lines (38648).-->
<!-- PSZ, 23/02/11: New form AssociatedLine (39419).-->
<!-- PSZ, 30/05/11: PSO changes (39683).-->
<!-- JSV, 25/08/11: Filter layout added (39884).-->
<!-- PSZ, 05/10/11: Add shadow titles for selected relations (40004).-->
<!-- PSZ, 17/10/11: Change title for ApprovalDate (40042).-->
<!-- PSZ, 17/11/11: Remove unused layouts (40178).-->
<MDML xmlns="http://www.deltek.com/ns/mdml" version="0.59">
  <Layout source="TimeRegistrationDetails">
    <FilterPane>
      <Filter name="Standard">
        <Compact>
          <Description template="^1, ^2, ^3" arguments="PeriodStart;JobNumber;TaskName" />
        </Compact>
        <Columns>
          <Field source="PeriodStart" />
          <Field source="JobNumber" />
          <Field source="TaskName" />
          <Field source="ActivityNumber" />
          <Field source="LineNumber" />
          <Field source="NumberDay1" />
          <Field source="NumberDay2" />
          <Field source="NumberDay3" />
          <Field source="NumberDay4" />
          <Field source="NumberDay5" />
        </Columns>
      </Filter>
    </FilterPane>
    <Pane>
      <Define>
        <Include fragment="GD_Dimensions" />
        <Style name="DescriptionDay1" ref="attentionField" condition="UsesDailyDescriptionsVar and NumberDay1 != 0 and DescriptionDay1 = ''" />
        <Style name="DescriptionDay2" ref="attentionField" condition="UsesDailyDescriptionsVar and NumberDay2 != 0 and DescriptionDay2 = ''" />
        <Style name="DescriptionDay3" ref="attentionField" condition="UsesDailyDescriptionsVar and NumberDay3 != 0 and DescriptionDay3 = ''" />
        <Style name="DescriptionDay4" ref="attentionField" condition="UsesDailyDescriptionsVar and NumberDay4 != 0 and DescriptionDay4 = ''" />
        <Style name="DescriptionDay5" ref="attentionField" condition="UsesDailyDescriptionsVar and NumberDay5 != 0 and DescriptionDay5 = ''" />
        <Style name="DescriptionDay6" ref="attentionField" condition="UsesDailyDescriptionsVar and NumberDay6 != 0 and DescriptionDay6 = ''" />
        <Style name="DescriptionDay7" ref="attentionField" condition="UsesDailyDescriptionsVar and NumberDay7 != 0 and DescriptionDay7 = ''" />
        <Style name="MissingJob" ref="attentionField" condition="LineDetailsVar = 'Job?'" />
        <Style name="MissingTask" ref="attentionField" condition="LineDetailsVar = 'Task?'" />
        <Style name="MissingActivity" ref="attentionField" condition="LineDetailsVar = 'Activity?'" />
        <Style name="MissingETC" ref="attentionField" condition="LineDetailsVar = 'Estimate to Completion?'" />
        <Style name="Rejected" ref="attentionField" condition="ApprovalStatus = ApprovalStatusType'Rejected" />
        <Style name="hours" zeroSuppression="true">
          <Real size="tiny" />
        </Style>
      </Define>
      <Form name="Full">
        <Actions all="true" />
        <Column>
          <Group title="Hours" style="hours">
            <PairHeader firstTitle="Hours" secondTitle="Description" />
            <Pair firstSource="NumberDay1" secondSource="DescriptionDay1" title="Mon" />
            <Pair firstSource="NumberDay2" secondSource="DescriptionDay2" title="Tue" />
            <Pair firstSource="NumberDay3" secondSource="DescriptionDay3" title="Wed" />
            <Pair firstSource="NumberDay4" secondSource="DescriptionDay4" title="Thu" />
            <Pair firstSource="NumberDay5" secondSource="DescriptionDay5" title="Fri" />
            <Pair firstSource="NumberDay6" secondSource="DescriptionDay6" title="Sat" />
            <Pair firstSource="NumberDay7" secondSource="DescriptionDay7" title="Sun" />
          </Group>
          <Group>
            <Field source="Invoiceable" />
            <Field source="OvertimeType" />
            <Boolean source="PermanentLine" />
          </Group>
          <Group title="Job Information">
            <Reference foreignKey="JobNumber_JobHeader" title="Customer" keySource="CustomerNumberVar" descriptionSource="CustomerNameVar" />
            <Reference title="Project Manager" keySource="ProjectManagerNumberVar" descriptionSource="ProjectManagerNameVar" />
          </Group>
          <Group title="Estimate to Completion">
            <Field source="EstimatedTimeToCompletion" title="Hours" />
            <Field source="EstimatedTimeToCompletionManDays" title="Days" />
            <Boolean source="Executed" />
          </Group>
          <Group title="Project Manager Approval">
            <Pair title="Status" firstSource="ApprovalStatus" secondSource="CommentProjectManager" />
            <Pair title="Date" firstSource="ApprovalDate" secondSource="ApprovedOrRejectedBy" />
          </Group>
        </Column>
      </Form>
      <Form name="AssociatedLine">
        <Column>
          <Group>
            <Reference foreignKey="JobNumber_JobHeader" title="Customer" keySource="CustomerNumberVar" descriptionSource="CustomerNameVar" />
            <Reference title="Project Manager" keySource="ProjectManagerNumberVar" descriptionSource="ProjectManagerNameVar" />
            <Reference foreignKey="JobNumber_JobHeader" keySource="JobNumber" descriptionSource="JobNameVar" />
            <Reference foreignKey="TaskName_TaskListLine" keyShadowTitle="Name" descriptionShadowTitle="Description" />
            <Reference foreignKey="ActivityNumber_Activity" title="Activity" keySource="ActivityNumber" descriptionSource="ActivityTextVar" />
            <Field source="Invoiceable" />
            <Field source="OvertimeType" />
          </Group>
        </Column>
        <Column>
          <Group title="Hours" style="hours">
            <PairHeader firstTitle="Hours" secondTitle="Description" />
            <Pair firstSource="NumberDay1" secondSource="DescriptionDay1" title="Mon" />
            <Pair firstSource="NumberDay2" secondSource="DescriptionDay2" title="Tue" />
            <Pair firstSource="NumberDay3" secondSource="DescriptionDay3" title="Wed" />
            <Pair firstSource="NumberDay4" secondSource="DescriptionDay4" title="Thu" />
            <Pair firstSource="NumberDay5" secondSource="DescriptionDay5" title="Fri" />
            <Pair firstSource="NumberDay6" secondSource="DescriptionDay6" title="Sat" />
            <Pair firstSource="NumberDay7" secondSource="DescriptionDay7" title="Sun" />
          </Group>
        </Column>
        <Column>
          <Group title="Estimate to Completion">
            <Field source="EstimatedTimeToCompletion" title="Hours" />
            <Field source="EstimatedTimeToCompletionManDays" title="Days" />
            <Field source="Executed" />
          </Group>
          <Group title="Project Manager Approval">
            <Pair title="Status" firstSource="ApprovalStatus" secondSource="CommentProjectManager" />
            <Pair title="Date" firstSource="ApprovalDate" secondSource="ApprovedOrRejectedBy" />
          </Group>
        </Column>
      </Form>
      <Form name="Descriptions">
        <Actions>
          <Refresh />
          <Update />
        </Actions>
        <Column>
          <Group style="hours">
            <PairHeader firstTitle="Hours" secondTitle="Description" />
            <If condition="parent.parent.DayHeading1Var != ''">
              <Pair firstSource="NumberDay1" secondSource="DescriptionDay1" secondSize="vast" title="Mon" style="DescriptionDay1" />
            </If>
            <Else>
              <Pair firstSource="NumberDay1" secondSource="DescriptionDay1" secondSize="vast" title="Mon" style="DescriptionDay1" open="false" />
            </Else>
            <If condition="parent.parent.DayHeading2Var != ''">
              <Pair firstSource="NumberDay2" secondSource="DescriptionDay2" secondSize="vast" title="Tue" style="DescriptionDay2" />
            </If>
            <Else>
              <Pair firstSource="NumberDay2" secondSource="DescriptionDay2" secondSize="vast" title="Tue" style="DescriptionDay2" open="false" />
            </Else>
            <If condition="parent.parent.DayHeading3Var != ''">
              <Pair firstSource="NumberDay3" secondSource="DescriptionDay3" secondSize="vast" title="Wed" style="DescriptionDay3" />
            </If>
            <Else>
              <Pair firstSource="NumberDay3" secondSource="DescriptionDay3" secondSize="vast" title="Wed" style="DescriptionDay3" open="false" />
            </Else>
            <If condition="parent.parent.DayHeading4Var != ''">
              <Pair firstSource="NumberDay4" secondSource="DescriptionDay4" secondSize="vast" title="Thu" style="DescriptionDay4" />
            </If>
            <Else>
              <Pair firstSource="NumberDay4" secondSource="DescriptionDay4" secondSize="vast" title="Thu" style="DescriptionDay4" open="false" />
            </Else>
            <If condition="parent.parent.DayHeading5Var != ''">
              <Pair firstSource="NumberDay5" secondSource="DescriptionDay5" secondSize="vast" title="Fri" style="DescriptionDay5" />
            </If>
            <Else>
              <Pair firstSource="NumberDay5" secondSource="DescriptionDay5" secondSize="vast" title="Fri" style="DescriptionDay5" open="false" />
            </Else>
            <If condition="parent.parent.DayHeading6Var != ''">
              <Pair firstSource="NumberDay6" secondSource="DescriptionDay6" secondSize="vast" title="Sat" style="DescriptionDay6" />
            </If>
            <Else>
              <Pair firstSource="NumberDay6" secondSource="DescriptionDay6" secondSize="vast" title="Sat" style="DescriptionDay6" open="false" />
            </Else>
            <If condition="parent.parent.DayHeading7Var != ''">
              <Pair firstSource="NumberDay7" secondSource="DescriptionDay7" secondSize="vast" title="Sun" style="DescriptionDay7" />
            </If>
            <Else>
              <Pair firstSource="NumberDay7" secondSource="DescriptionDay7" secondSize="vast" title="Sun" style="DescriptionDay7" open="false" />
            </Else>
          </Group>
        </Column>
      </Form>
      <Form name="Details">
        <Actions>
          <Refresh />
          <Update />
          <Action source="CreateJobFavorite" />
        </Actions>
        <Column>
          <Group>
            <Reference foreignKey="JobNumber_JobHeader" title="Customer" keySource="CustomerNumberVar" keyOpen="false" descriptionSource="CustomerNameVar" descriptionOpen="false" />
            <Reference title="Project Manager" keySource="ProjectManagerNumberVar" descriptionSource="ProjectManagerNameVar" />
            <!-- <Reference foreignKey="ActivityNumber_Activity" title="Activity" keySource="ActivityNumber" descriptionSource="ActivityTextVar" style="MissingActivity" open="false" />-->
            <Reference foreignKey="EntityName_Entity" keyShadowTitle="Name" descriptionShadowTitle="Description" />
          </Group>
          <!-- <Group ref="DimensionGroup" />-->
        </Column>
        <Column>
          <!-- <Group title="Estimate to Completion">
						<Field source="EstimatedTimeToCompletion" title="Hours" style="MissingETC" />
						<Field source="EstimatedTimeToCompletionManDays" title="Days" style="MissingETC" />
						<Boolean source="Executed" />
					</Group>-->
          <!-- <Group title="Project Manager Approval">
						<Pair title="Status" firstSource="ApprovalStatus" secondSource="CommentProjectManager" style="Rejected" />
						<Pair title="Date" firstSource="ApprovalDate" secondSource="ApprovedOrRejectedBy" />
					</Group> -->
        </Column>
      </Form>
    </Pane>
  </Layout>
</MDML>

