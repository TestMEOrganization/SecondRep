<?xml version="1.0" encoding="UTF-8"?>
<!--7faf5086b0c27fb81423534037344626119f7782-->
<!--
  Revision=191a890063347ac5105d387c300b16c33e205212
  RevisionTag=v2012.04.19_12.05.13_MartinKjeldsen
  Layer=Custom
  Deployer=admin
  Time=19-04-12 12:05
  StampVersion=1
-->
<!--c8dd959409d9b087f7e9f741e426687aa418db64-->
<!--
  Revision=879fe3ff52aabe538ae6404343bf898b1abe6f1f
  RevisionTag=v2012.03.02_01.15.33_MartinKjeldsen
  Layer=Custom
  Deployer=MartinKjeldsen
  Time=02-03-12 01:16
  StampVersion=1
-->
<!-- RMA, 06/04/09: Create empty forms for every dialog (37642).-->
<!-- JSV, 02/07/09: Insert Original layout converted from mdl and filter layout (37802).-->
<!-- MJA, 27/10/09: Update Original layout and remove Empty layout (37802).-->
<!-- MJA, 23/04/10: Original layout structure review completed (38330).-->
<!-- BPE, 02/09/10: Changed layout to use global definition dimensions (38745). -->
<!-- BPE, 10/09/10: Changed layout to use global definition dimensions (38745). -->
<!-- JSV, 29/11/10: Compact block for Original filter (39106).-->
<!-- PSZ, 03/12/10: Use onDemand suggestions for relevant fields (39127).-->
<!-- JSV, 21/06/11: New demo layouts (39464).-->
<!-- JSV, 24/08/11: Use reference element where possible (39874).-->
<!-- PSZ, 05/10/11: Add shadow titles for selected relations (40004).-->
<!-- RambÃ¸ll Custom filter, view, and table -->
<MDML xmlns="http://www.deltek.com/ns/mdml" version="0.59">
  <Layout source="JobReallocationByJob">
    <FilterPane>
      <Filter name="Standard">
        <Compact>
          <Description template="^1 (^2), ^3" arguments="JobName;JobNumber;Name1" />
        </Compact>
        <Columns>
          <Field source="JobNumber" />
          <Field source="JobName" />
          <Field source="JobGroup" />
          <Field source="NotInvoiceable" />
          <Field source="InternalJob" />
          <Field source="Status" />
          <Field source="ConvertedBy" />
          <Field source="ConversionDate" />
          <Field source="ProjectManagerNumber" />
          <Field source="SalesPersonNumber" />
        </Columns>
      </Filter>
    </FilterPane>
    <UpperPane>
      <Define>
        <Include fragment="GD_Dimensions" />
      </Define>
      <Form name="Full">
        <Actions all="true">
         <Action source="ApproveReentry" />
         <!-- <Action title="Approve Rellocation" source="MDK_ApproveReallocation" appearance="standard"  /> -->
        </Actions>
           
         
        <Row>
          <Column>
            <Group title="Job">
              <Reference foreignKey="JobNumber_JobHeader" />
              <Reference foreignKey="ProjectManagerNumber_Employee" />
            </Group>
            <Group title="Selection Criteria">
              <Boolean source="ReallocateOnlyOpenJobEntriesVar" title="Open Only{pl}" />
              <Boolean source="ShowOnlyMarkedJobEntriesVar" title="Marked Only" />
              <Interval firstSource="FromTransactionNumberVar" lastSource="ToTransactionNumberVar" title="Trans. No." />
              <Interval firstSource="FromJournalNumberVar" lastSource="ToJournalNumberVar" title="Journal No." />
              <Interval firstSource="FromEntryDateVar" lastSource="ToEntryDateVar" title="Entry Date" />
              <Interval firstSource="FromExecutingCompanyNumberVar" lastSource="ToExecutingCompanyNumberVar" title="Exec. Company No." />
              <Interval firstSource="FromItemNumberVar" lastSource="ToItemNumberVar" title="Item No." />
              <Interval firstSource="FromActivityNumberVar" lastSource="ToActivityNumberVar" title="Activity No." />
              <Field source="ActivityTypeVar" title="Activity Type" appearance="interval" />
              <Interval firstSource="FromEmployeeNumberVar" lastSource="ToEmployeeNumberVar" title="Employee No." />
              <Interval firstSource="FromTaskNameVar" lastSource="ToTaskNameVar" title="Task" />
              <Field source="OvertimeTypeVar" title="Overtime Spec." appearance="interval" />
              <Field source="AccrualTypeVar" title="Accrual Type" appearance="interval" />
              <Interval firstSource="FromFromAccrualPeriodVar" lastSource="ToFromAccrualPeriodVar" title="Accrual Period From" />
              <Interval firstSource="FromToAccrualPeriodVar" lastSource="ToToAccrualPeriodVar" title="Accrual Period To" />
            </Group>
            <Group ref="DimensionsVarTargetGroupIntervals" />
          </Column>
          <Column>
            <Group title="Reallocate To">
              <Reference foreignKey="Card_NewJobNumberVar_JobHeader" />
              <Field source="NewProjectManagerNumberVar" title="Project Manager" />
              <Field source="NewProjectManagerNameVar" title="Name" />
              <Field source="NewTransactionNumberVar" title="Trans. No." />
              <Field source="NewTransactionTypeVar" title="Trans. Type" />
              <Field source="TransactionNumberSeriesVar" title="Number Series{sg}" />
              <Field source="NewEntryDateVar" title="Entry Date" />
              <Reference foreignKey="Card_NewItemNumberVar_ItemInformation" />
              <Reference foreignKey="Card_NewActivityNumberVar_Activity" />
              <Reference foreignKey="Card_NewEmployeeNumberVar_Employee" />
              <Field source="NewTaskNameVar" title="Task" />
              <Field source="NewTaskTextVar" title="Task Description{1}" />
              <Field source="NewOvertimeTypeVar" title="Overtime Spec." />
              <Boolean source="NewNoOvertimeTypeVar" title="No overtime spec." />
              <Field source="NewAccrualTypeVar" title="Accrual Type" />
              <Boolean source="NewNoAccrualTypeVar" title="No accrual type" />
              <Field source="NewFromAccrualPeriodVar" title="Accrual Period From" />
              <Field source="NewToAccrualPeriodVar" title="Accrual Period To" />
            </Group>
            <Group ref="DimensionNewVarGroup" title="Reallocate To, Dimensions" />
          </Column>
        </Row>
      </Form>
      <Form name="Demo">
        <Actions all="true">
          <Action source="MarkForReallocation" title="Select all Entries" />
          <Action source="UnmarkForReallocation" title="Deselect all Entries" />
        </Actions>
        <Row>
          <Column>
            <Group title="Selection Criteria">
              <Boolean source="ReallocateOnlyOpenJobEntriesVar" title="Open Only{pl}" />
              <Boolean source="ShowOnlyMarkedJobEntriesVar" title="Marked Only" />
              <Interval firstSource="FromTaskNameVar" lastSource="ToTaskNameVar" title="Task" />
              <Interval firstSource="FromEmployeeNumberVar" lastSource="ToEmployeeNumberVar" title="Employee No." />
              <Interval firstSource="FromEntryDateVar" lastSource="ToEntryDateVar" title="Entry Date" />
              <Interval firstSource="FromExecutingCompanyNumberVar" lastSource="ToExecutingCompanyNumberVar" title="Exec. Company No." />
              <Field source="ActivityTypeVar" title="Activity Type" appearance="interval" />
              <Interval firstSource="FromActivityNumberVar" lastSource="ToActivityNumberVar" title="Activity No." />
              <Field source="OvertimeTypeVar" title="Overtime Spec." appearance="interval" />
            </Group>
          </Column>
          <Column>
            <Group title="Reallocate To">
              <Reference foreignKey="Card_NewJobNumberVar_JobHeader" title="Job" />
              <Pair firstSource="NewProjectManagerNameVar" secondSource="NewProjectManagerNumberVar" title="Project Manager" />
              <Field source="NewEntryDateVar" title="Entry Date" />
              <Reference foreignKey="Card_NewTaskNameVar_TaskListLine" title="Task" keyShadowTitle="Name" descriptionShadowTitle="Description" />
              <Reference foreignKey="Card_NewActivityNumberVar_Activity" title="Activity" />
              <Reference foreignKey="Card_NewEmployeeNumberVar_Employee" title="Employee" />
              <Field source="NewOvertimeTypeVar" title="Overtime Spec." />
              <Boolean source="NewNoOvertimeTypeVar" title="No overtime spec." />
            </Group>
          </Column>
        </Row>
      </Form>
      <Form name="Custom">
        <Actions all="not HasPMReadOnly()">
        <Exclude>
        	<Action source="MDK_ApproveReallocation" />
        </Exclude>
          <Action source="MarkForReallocation" title="Select all Entries" disabled="HasPMReadOnly()" />
          <Action source="UnmarkForReallocation" title="Deselect all Entries" disabled="HasPMReadOnly()" />
          <Action source="ApproveReentry" disabled="HasPMReadOnly()" />
        </Actions>
        <Row>
          <Column>
            <Group title="Selection Criteria">
              <Boolean source="ReallocateOnlyOpenJobEntriesVar" title="Open Only{pl}" />
              <Boolean source="ShowOnlyMarkedJobEntriesVar" title="Marked Only" />
              <Interval firstSource="FromTaskNameVar" lastSource="ToTaskNameVar" title="Task" />
              <Interval firstSource="FromEmployeeNumberVar" lastSource="ToEmployeeNumberVar" title="Employee No." />
              <Interval firstSource="FromEntryDateVar" lastSource="ToEntryDateVar" title="Entry Date" />
              <Interval firstSource="FromExecutingCompanyNumberVar" lastSource="ToExecutingCompanyNumberVar" title="Exec. Company No." />
              <Field source="ActivityTypeVar" title="Activity Type" appearance="interval" />
              <Interval firstSource="FromActivityNumberVar" lastSource="ToActivityNumberVar" title="Activity No." />
            </Group>
          </Column>
          <Column>
            <Group title="Reallocate To">
              <Pair firstSource="NewProjectManagerNameVar" secondSource="NewProjectManagerNumberVar" title="Project Manager" />
              <Field source="NewEntryDateVar" title="Entry Date" />
              <!-- <Reference foreignKey="Card_NewTaskNameVar_TaskListLine" title="Task" keyShadowTitle="Name" descriptionShadowTitle="Description" /> -->
              <Reference foreignKey="Card_NewTaskNameVar_TaskListLine" descriptionSearchView="Custom" descriptionSearchOption="tasklistVal" descriptionSuggestions="onDemand" title="Task" keyShadowTitle="Name" descriptionShadowTitle="Description" />
            </Group>
          </Column>
        </Row>
      </Form>
      <Form name="Custom_PC">
        <Actions all="true">
        <Exclude>
        	<Action source="MDK_ApproveReallocation" />
        </Exclude>
          <Action source="MarkForReallocation" title="Select all Entries" />
          <Action source="UnmarkForReallocation" title="Deselect all Entries" />
          <Action source="ApproveReentry" />
        </Actions>
        <Row>
          <Column>
            <Group title="Selection Criteria">
              <Boolean source="ReallocateOnlyOpenJobEntriesVar" title="Open Only{pl}" />
              <Boolean source="ShowOnlyMarkedJobEntriesVar" title="Marked Only" />
              <Interval firstSource="FromTaskNameVar" lastSource="ToTaskNameVar" title="Task" />
              <Interval firstSource="FromEmployeeNumberVar" lastSource="ToEmployeeNumberVar" title="Employee No." />
              <Interval firstSource="FromEntryDateVar" lastSource="ToEntryDateVar" title="Entry Date" />
              <Interval firstSource="FromExecutingCompanyNumberVar" lastSource="ToExecutingCompanyNumberVar" title="Exec. Company No." />
              <Field source="ActivityTypeVar" title="Activity Type" appearance="interval" />
              <Interval firstSource="FromActivityNumberVar" lastSource="ToActivityNumberVar" title="Activity No." />
            </Group>
          </Column>
          <Column>
            <Group title="Reallocate To">
              <Reference foreignKey="Card_NewJobNumberVar_JobHeader" title="Job" />
              <Pair firstSource="NewProjectManagerNameVar" secondSource="NewProjectManagerNumberVar" title="Project Manager" />
              <Field source="NewEntryDateVar" title="Entry Date" />
              <!-- <Reference foreignKey="Card_NewTaskNameVar_TaskListLine" title="Task" keyShadowTitle="Name" descriptionShadowTitle="Description" /> -->
              <Reference foreignKey="Card_NewTaskNameVar_TaskListLine" descriptionSearchView="Custom" descriptionSearchOption="tasklistVal" descriptionSuggestions="onDemand" title="Task" keyShadowTitle="Name" descriptionShadowTitle="Description" />
            </Group>
          </Column>
        </Row>
      </Form>
    </UpperPane>
    <LowerPane>
      <Define>
        <Include fragment="GD_Dimensions" />
      </Define>
      <Table name="Full">
        <Actions all="true" >
        <!-- <Action title="Approve Rellocation" source="MDK_ApproveReallocation" appearance="standard"  /> -->
       </Actions>   
        <Columns>
          <Field source="ReallocateFromInvoiceSelection" />
          <Field source="SelectedForReallocation" />
          <Field source="EntryDate" title="Entry Date" />
          <Field source="TransactionNumber" />
          <Field source="TransactionType" title="Trans. Type" />
          <Field source="JournalNumber" />
          <Field source="ActivityNumber" />
          <Field source="ActivityText" />
          <Field source="EmployeeNumber" title="Empl. No." />
          <Field source="EmployeeNameVar" title="Employee Name" />
          <Field source="TaskName" />
          <Field source="TaskTextVar" title="Task Description" />
          <Field source="NumberRegistered" title="Quantity Registered" />
          <Field source="NumberTransferredTo" title="Quantity Transferred To" />
          <Field source="NumberOpen" />
          <Field source="NumberReallocated" title="Quantity Reallocated" />
          <Field source="ReallocationDate" title="Reallocation Date" />
          <Field source="ItemNumber" />
          <Field source="ItemTextVar" title="Description{Item}" />
          <Field source="CompanyNumber" />
          <Field source="ExecutingCompanyNumber" />
          <Columns ref="DimensionColumns" />
          <Field source="ReallocatedFromJobNumber" />
          <Field source="ReallocatedFromTaskName" />
          <Field source="Remark" />
          <Field source="InternalJob" />
          <Field source="EntryNumber" />
          <Field source="OvertimeType" />
          <Field source="AccrualType" />
          <Field source="FromAccrualPeriod" />
          <Field source="ToAccrualPeriod" />
          <Field source="FromSubscriptionPeriod" />
          <Field source="ToSubscriptionPeriod" />
        </Columns>
      </Table>
      <Table name="Demo">
        <Actions all="true">
         <!-- <Action title="Approve Rellocation" source="MDK_ApproveReallocation" appearance="standard"  /> -->
        </Actions>
        
         
         
        <Columns>
          <Field source="ReallocateFromInvoiceSelection" />
          <Field source="SelectedForReallocation" />
          <Field source="EntryDate" title="Entry Date" />
          <Field source="EmployeeNumber" title="Empl. No." size="small" />
          <Field source="EmployeeNameVar" title="Employee Name" />
          <Field source="TaskName" size="small" />
          <Field source="TaskTextVar" title="Task Description" />
          <Field source="ActivityNumber" size="small" />
          <Field source="ActivityText" size="medium" />
          <Field source="BillingPriceOpenCurrency" title="Open Billing Price" size="medium" />
          <Field source="NumberOpen" size="small" />
          <Field source="NumberReallocated" title="Quantity Reallocated" size="small" />
          <Field source="ReallocationDate" title="Reallocation Date" />
          <Field source="ReallocatedFromJobNumber" size="medium" />
          <Field source="ReallocatedFromTaskName" size="medium" />
          <Field source="Remark" />
          <Field source="TransactionNumber" />
          <Field source="TransactionType" title="Trans. Type" />
          <Field source="ExecutingCompanyNumber" />
          <Field source="OvertimeType" />
        </Columns>
      </Table>
      <Table name="Custom">
        <Actions all="not HasPMReadOnly()">
         <!-- <Action title="Approve Rellocation" source="MDK_ApproveReallocation" appearance="standard"  /> -->
        </Actions>
        
        <Columns>
          <Field source="ReallocateFromInvoiceSelection" />
          <Field source="ReallocatedFromJobNumber" />
          <Field source="SelectedForReallocation" />
          <Field source="EntryDate" title="Entry Date" />
          <Field source="EmployeeNameVar" title="Employee Name" />
          <Field source="TaskName" size="small" />
          <Field source="TaskTextVar" title="Task Description" />
          <Field source="BillingPriceOpenCurrency" title="Open Billing Price" size="medium" />
          <Field source="NumberOpen" size="small" />
          <Field source="NumberReallocated" title="Quantity Reallocated" size="small" />
          <Field source="ReallocatedFromTaskName" size="medium" />
          <Field source="EmployeeNumber" title="Empl. No." size="small" />
        </Columns>
      </Table>
    </LowerPane>
  </Layout>
</MDML>

