<?xml version="1.0" encoding="UTF-8"?>
<!-- RMA, 06/04/09: Create empty forms for every dialog (37642).-->
<!-- JSV, 02/07/09: Insert Original layout converted from mdl and filter layout (37802).-->
<!-- MJA, 27/10/09: Update Original layout and remove Empty layout (37802).-->
<!-- CSK, 29/01/10: Minimal and Overview views added for Companies workspace (37818).-->
<!-- CSK, 23/04/10: Minimal filter condition aligned with Company Overview (37818).-->
<!-- JSV, 29/04/10: Use FullBoolean for Boolean fields open in new or update state (38472).-->
<!-- SJK, 25/05/10: Filter button restrictions converted to common expression language (38492).-->
<!-- KUN, 07/07/10: Added group and columns for user update information (38625).-->
<!-- MJA, 06/07/10: Move "Option List Fields" group to global include file (38627).-->
<!-- BPE, 10/09/10: Changed layout to use global definition dimensions (38826). -->
<!-- JSV, 29/11/10: Compact block for Original filter (39106).-->
<!-- CSK, 01/12/10: Various layout enhancements (39093).-->
<!-- PSZ, 03/12/10: Use onDemand suggestions for relevant fields (39127).-->
<!-- PSZ, 20/06/11: Original layout should be placed as the first layout (39299).-->
<!-- JSV, 24/08/11: Use reference element where possible (39874).-->
<!-- PSZ, 05/10/11: Add shadow titles for selected relations (40004).-->
<!-- LPA, 17/10/11: New layouts Reqruitment_PersonnelRequisition and CreatePersonnelRequisitionWizard (40140).-->
<MDML xmlns="http://www.deltek.com/ns/mdml" version="0.59">
  <Layout source="PersonnelRequisitions">
    <FilterPane>
      <Filter name="Standard">
        <Compact>
          <Description template="^1 (^2)" arguments="Description;PurchaseOrderNumber" />
        </Compact>
        <Columns>
          <Field source="PurchaseOrderNumber" />
          <Field source="Description" />
          <Field source="EventFlowType" />
          <Field source="JobNumber" />
          <Field source="ActivityNumber" />
          <Field source="TaskName" />
          <Field source="PositionNumber" />
          <Field source="PersonnelReqTypeNumber" />
          <Field source="FixedTimePerWeek" />
          <Field source="SuperiorEmployee" />
        </Columns>
      </Filter>
      <Filter name="Minimal">
        <ControlBar>
          <Selection default="OpenRequisitions">
            <Option name="OpenRequisitions" title="Open Requisitions" restriction="not Closed and Approved = true and ApprovalDate le currentDate()" />
          </Selection>
        </ControlBar>
        <Columns>
          <Field source="PurchaseOrderNumber" />
          <Field source="Description" />
          <Field source="PersonnelReqTypeNumber" title="Requisition Type" />
          <Field source="PlannedMonthlySalary" />
          <Field source="FixedTimePerWeek" />
          <Field source="Approved" />
        </Columns>
      </Filter>
      <Filter name="Recruitment_PersonnelRequisition">
        <Actions>
          <Action source="with.Create" wizard="CreatePersonnelRequisitionWizard" title="New Personnel Requisition" />
        </Actions>
        <ControlBar>
          <Selection default="MyOpenRequisitions">
            <Option name="MyOpenRequisitions" title="My Open Requisitions" restriction="not Closed and Approved = true and ApprovalDate le currentDate()                                                  and (Requisitioner = UserEmployeeNumber()                                                           or RecruitmentEmployee = UserEmployeeNumber()                                                           or SuperiorEmployee = UserEmployeeNumber())" />
            <Option name="AllMyRequisitions" title="All My Requisitions" restriction="Requisitioner = UserEmployeeNumber()                                                        or RecruitmentEmployee = UserEmployeeNumber()                                                        or SuperiorEmployee = UserEmployeeNumber()" />
            <Option name="OpenRequisitions" title="Open Requisitions" restriction="not Closed and Approved = true and ApprovalDate le currentDate()" />
            <Option name="AllRequisitions" title="All Requisitions" />
          </Selection>
        </ControlBar>
        <Compact>
          <Description template="^1 (^2)" arguments="Description;PurchaseOrderNumber" />
        </Compact>
        <Columns>
          <Field source="PurchaseOrderNumber" />
          <Field source="Description" />
          <Field source="PersonnelReqTypeNumber" title="Requisition Type" />
          <Field source="Requisitioner" />
          <Field source="RecruitmentEmployee" />
          <Field source="SuperiorEmployee" />
          <Field source="Approved" />
        </Columns>
      </Filter>
    </FilterPane>
    <UpperPane>
      <Define>
        <Include fragment="GD_OptionLists" />
        <Include fragment="GD_Dimensions" />
      </Define>
      <Wizard name="CreatePersonnelRequisitionWizard" title="Create Personnel Requisition">
        <Page form="CreatePersonnelRequisitionWizardPage" title="Personnel Requisition" />
      </Wizard>
      <Form name="Full">
        <Actions all="true" />
        <Row>
          <Column>
            <Group title="Personnel Requisition">
              <Field source="PurchaseOrderNumber" />
              <Field source="Description" />
              <Field source="PersonnelReqTypeNumber" />
              <Field source="EventFlowType" />
              <Reference foreignKey="PositionNumber_Position" />
              <Field source="ReplacementForEmployee" />
              <Field source="ReplacementEmployeeNameVar" title="Name" />
            </Group>
            <Group title="Terms">
              <Field source="PlannedMonthlySalary" />
              <Field source="PlannedAnnualSalary" />
              <Field source="MonthlySalary" />
              <Field source="AnnualSalary" />
              <Boolean source="TestedMarketSalary" />
              <Boolean source="IncludingOvertime" />
              <Field source="ExpectedDateEmployed" />
            </Group>
            <Group title="Advertising">
              <Field source="AdvertisingMedia" />
              <Field source="AdvertisingCosts" />
            </Group>
            <Group title="Status">
              <Boolean source="Approved" />
              <Field source="ApprovedBy" />
              <Field source="ApprovalDate" />
              <Boolean source="Closed" />
              <Field source="ClosingDate" />
            </Group>
            <Group ref="OptionListGroup_10" />
            <Group ref="UserUpdateGroup" />
          </Column>
          <Column>
            <Group title="Executing Company">
              <Reference foreignKey="ExecutingCompanyNumber_CompanyInformation" />
            </Group>
            <Group title="Job Cost">
              <Reference foreignKey="JobNumber_JobHeader" />
              <Field source="ActivityNumber" />
              <Field source="TaskName" />
            </Group>
            <Group title="Requisitioner">
              <Reference foreignKey="Requisitioner_Employee" />
            </Group>
            <Group title="Recruitment Employee">
              <Reference foreignKey="RecruitmentEmployee_Employee" />
            </Group>
            <Group title="Supervisor">
              <Field source="SuperiorEmployee" title="Employee No." />
              <Field source="EmployeeNameVar" title="Name" />
            </Group>
            <Group title="Dimension Combination">
              <Field source="DimensionCombNumber" title="Dim. Comb. No." />
            </Group>
            <Group title="Derived Company">
              <Field source="CompanyNumber" title="Company No." />
            </Group>
            <Group title="Derived Account">
              <Grid>
                <Header cells="|Value|;|Overwrite|" title="" />
                <Row cells="AccountNumber;OverwriteAccount#" title="Account No." />
              </Grid>
            </Group>
            <Group ref="DerivedDimensionGroup" />
            <Group title="Access Level">
              <Reference foreignKey="AccessLevelName_AccessLevelHeader" keyShadowTitle="Name" descriptionShadowTitle="Description" />
            </Group>
            <Group title="Document Archive">
              <Reference foreignKey="DocumentArchiveNumber_DocumentArchiveHeader" />
            </Group>
          </Column>
        </Row>
      </Form>
      <Form name="Custom_RoleRestricted_Overview" open="hasRole('Finance Admin')">
        <Row>
          <Column>
            <Group title="Personnel Requisition">
              <Field source="PurchaseOrderNumber" size="large" />
              <Field source="Description" />
              <Reference foreignKey="PositionNumber_Position" descriptionSource="PositionNameVar" title="Position" />
              <Reference foreignKey="ReplacementForEmployee_Employee" descriptionSource="ReplacementEmployeeNameVar" title="Replacement for Employee" />
              <Field source="PersonnelReqTypeNumber" title="Requisition Type" size="large" />
              <Field source="EventFlowType" size="large" />
            </Group>
            <Group title="Related Contacts">
              <Reference foreignKey="SuperiorEmployee_Employee" descriptionSource="EmployeeNameVar" title="Supervisor" />
              <Reference foreignKey="Requisitioner_Employee" descriptionSource="RequisitionerNameVar" title="Requisitioner" />
              <Reference foreignKey="RecruitmentEmployee_Employee" descriptionSource="RecruitmentEmployeeNameVar" title="Recruitment Employee" />
            </Group>
            <Group title="Status">
              <Reference descriptionSource="ApprovedBy" keySource="ApprovalDate" />
            </Group>
          </Column>
          <Column>
            <Group title="Terms">
              <Field source="PlannedMonthlySalary" />
              <Field source="PlannedAnnualSalary" />
              <Field source="MonthlySalary" />
              <Field source="AnnualSalary" />
              <Field source="ExpectedDateEmployed" />
              <Field source="IncludingOvertime" />
            </Group>
            <Group title="Job Cost">
              <Field source="JobNumber" />
              <Field source="ActivityNumber" />
              <Field source="TaskName" />
            </Group>
          </Column>
        </Row>
      </Form>
      <Form name="Overview">
        <Row>
          <Column>
            <Group title="Personnel Requisition">
              <Field source="PurchaseOrderNumber" size="large" />
              <Field source="Description" />
              <Reference foreignKey="PositionNumber_Position" descriptionSource="PositionNameVar" title="Position" />
              <Reference foreignKey="ReplacementForEmployee_Employee" descriptionSource="ReplacementEmployeeNameVar" title="Replacement for Employee" />
              <Field source="PersonnelReqTypeNumber" title="Requisition Type" size="large" />
              <Field source="EventFlowType" size="large" />
            </Group>
            <Group title="Related Contacts">
              <Reference foreignKey="SuperiorEmployee_Employee" descriptionSource="EmployeeNameVar" title="Supervisor" />
              <Reference foreignKey="Requisitioner_Employee" descriptionSource="RequisitionerNameVar" title="Requisitioner" />
              <Reference foreignKey="RecruitmentEmployee_Employee" descriptionSource="RecruitmentEmployeeNameVar" title="Recruitment Employee" />
            </Group>
            <Group title="Status">
              <Reference descriptionSource="ApprovedBy" keySource="ApprovalDate" />
            </Group>
          </Column>
          <Column>
            <Group title="Terms">
              <Field source="PlannedMonthlySalary" />
              <Field source="PlannedAnnualSalary" />
              <Field source="MonthlySalary" />
              <Field source="AnnualSalary" />
              <Field source="ExpectedDateEmployed" />
              <Field source="IncludingOvertime" />
            </Group>
            <Group title="Job Cost">
              <Field source="JobNumber" />
              <Field source="ActivityNumber" />
              <Field source="TaskName" />
            </Group>
          </Column>
        </Row>
      </Form>
      <Form name="Recruitment_PersonnelRequisition">
        <Actions all="true">
          <Exclude>
            <Create />
            <Action source="AttachDocumentToPersonnelRequisition" />
          </Exclude>
        </Actions>
        <Row>
          <Column>
            <Group title="Personnel Requisition">
              <Field source="PurchaseOrderNumber" />
              <Field source="Description" />
              <Field source="PersonnelReqTypeNumber" />
              <Reference foreignKey="PositionNumber_Position" />
              <Reference foreignKey="ReplacementForEmployee_Employee" title="Replacement for Employee" />
            </Group>
            <Group title="Terms">
              <Field source="PlannedMonthlySalary" />
              <Field source="PlannedAnnualSalary" />
              <Field source="MonthlySalary" />
              <Field source="AnnualSalary" />
              <Boolean source="TestedMarketSalary" />
              <Boolean source="IncludingOvertime" />
              <Field source="ExpectedDateEmployed" />
            </Group>
            <Group title="Advertising">
              <Field source="AdvertisingMedia" />
              <Field source="AdvertisingCosts" />
            </Group>
            <Group ref="DynamicOptionListGroup_10" />
          </Column>
          <Column>
            <Group title="Responsible">
              <Reference foreignKey="Requisitioner_Employee" />
              <Reference foreignKey="RecruitmentEmployee_Employee" title="Recruitments Employee" />
              <Reference foreignKey="SuperiorEmployee_Employee" title="Supervisor" />
            </Group>
            <Group title="Access Level">
              <Reference foreignKey="AccessLevelName_AccessLevelHeader" keyShadowTitle="Name" descriptionShadowTitle="Description" />
            </Group>
            <Group title="Status">
              <Boolean source="Approved" />
              <Field source="ApprovedBy" />
              <Field source="ApprovalDate" />
              <Boolean source="Closed" />
              <Field source="ClosingDate" />
            </Group>
            <Group ref="UserUpdateGroup" />
          </Column>
        </Row>
      </Form>
      <Form name="CreatePersonnelRequisitionWizardPage">
        <Actions>
          <Create />
        </Actions>
        <Group>
          <Field source="PersonnelReqTypeNumber" mandatory="true" />
          <Field source="Description" />
          <Reference foreignKey="Requisitioner_Employee" />
        </Group>
      </Form>
    </UpperPane>
    <LowerPane>
      <Define>
        <Include fragment="GD_OptionLists" />
      </Define>
      <Table name="Full">
        <Actions all="true" />
        <Columns>
          <Field source="ContactPersonNumber" />
          <Field source="ContactPersonNameVar" title="Name" />
          <Field source="EmployeeNumberVar" title="Employee No." />
          <Field source="EMailVar" title="E-mail{native}" />
          <Field source="Result" />
          <Field source="ClosedVar" title="Closed{Finish}" />
          <Field source="ApplicantStatusVar" title="Status" />
          <Field source="NextStepVar" title="Next Step" />
          <Field source="EventAccumulatedTimeVar" title="Total Time Consumption" />
          <Field source="EventJobNumberVar" title="Job No." />
          <Field source="EventTaskNameVar" title="Task" />
          <Field source="EventActivityNumberVar" title="Activity No." />
          <Field source="EventEmployeeNumberVar" title="Employee No., Time Sheet" />
          <Field source="SelectedOption1" />
          <Field source="SelectedOption2" />
          <Field source="SelectedOption3" />
          <Field source="SelectedOption4" />
          <Field source="SelectedOption5" />
          <Field source="SelectedOption6" />
          <Field source="SelectedOption7" />
          <Field source="SelectedOption8" />
          <Field source="SelectedOption9" />
          <Field source="SelectedOption10" />
          <Field source="DocumentArchiveNumber" />
          <Field source="ApplicantDocumentArchiveDescriptionVar" title="Description{0}" />
        </Columns>
      </Table>
      <Table name="Reqruitment_PersonnelRequisition">
        <Actions all="true">
          <Exclude>
            <Create />
            <Action source="AttachDocumentToApplicant" />
          </Exclude>
          <Action source="primary-&gt;Applicants.CloseEvent" wizard="CloseEventWizard" title="Close Action" />
          <Action source="primary-&gt;Applicants.Create" wizard="CreateApplicantWizard" title="Create New Applicant" />
        </Actions>
        <Columns>
          <Field source="ContactPersonNumber" title="Applicant No." />
          <Field source="ContactPersonNameVar" title="Name" />
          <Field source="EmployeeNumberVar" title="Employee No." />
          <Field source="EMailVar" title="E-mail{native}" />
          <Field source="ApplicantStatusVar" title="Last Decision" />
          <Field source="NextStepVar" title="Next Action" />
          <Columns ref="DynamicSelectedOptionListColumn_10" />
        </Columns>
      </Table>
    </LowerPane>
  </Layout>
</MDML>

