<?xml version="1.0" encoding="UTF-8"?>
<!-- RMA, 06/04/09: Create empty forms for every dialog (37642).-->
<!-- CSK, 24/04/09: Original layout added (37668).-->
<!-- MJA, 26/06/09: Rename "Original" views to "Standard" (37797).-->
<!-- JSV, 02/07/09: Insert Original layout converted from mdl and filter layout (37802).-->
<!-- CSK, 07/07/09: Standard views deleted (37668).-->
<!-- MJA, 27/10/09: Update Original layout and remove Empty layout (37802).-->
<!-- KUN, 07/07/10: Added group and columns for user update information (38625).-->
<!-- JSV, 29/11/10: Compact block for Original filter (39106).-->
<!-- CSK, 05/04/11: Original layouts improved (39492).-->
<!-- CSK, 12/04/11: Improvements for Accounts workspace (39547).-->
<!-- PSZ, 20/06/11: Original layout should be placed as the first layout (39299).-->
<!-- CSK, 10/10/11: Rename AccountNumber in Full table (39492).-->
<!-- CSK, 11/10/11: Possible to edit account in DimensionOrigin (39547).-->
<!-- CSK, 19/10/11: Wizard title improved (40064).-->
<MDML xmlns="http://www.deltek.com/ns/mdml" version="0.59">
  <Layout source="PostingReferences">
    <FilterPane>
      <Filter name="Custom_RoleRestricted_Standard">
        <Actions >
          <Exclude>
            <If condition="not hasRole('Finance Admin')">
              <Create />
              <Update />
              <Delete />
            </If>
          </Exclude>
          <If condition="hasWorkspace('AdvancedDimensions') and hasRole('Finance Admin')">
            <Action source="with.Create" wizard="CreatePostingReference" title="New Posting Reference" />
          </If>
        </Actions>
        <Compact>
          <Description template="^1" arguments="Name" />
        </Compact>
        <Columns>
          <Field source="Name" />
          <Field source="Address1" />
          <Field source="Address2" />
          <Field source="Address3" />
          <Field source="Address4" />
          <Columns ref="UserUpdateColumns" />
        </Columns>
      </Filter>
      <Filter name="Standard">
        <Actions>
          <If condition="hasWorkspace('AdvancedDimensions')">
            <Action source="with.Create" wizard="CreatePostingReference" title="New Posting Reference" />
          </If>
        </Actions>
        <Compact>
          <Description template="^1" arguments="Name" />
        </Compact>
        <Columns>
          <Field source="Name" />
          <Field source="Address1" />
          <Field source="Address2" />
          <Field source="Address3" />
          <Field source="Address4" />
          <Columns ref="UserUpdateColumns" />
        </Columns>
      </Filter>
    </FilterPane>
    <UpperPane>
      <Wizard name="CreatePostingReference" title="Create Posting Reference">
        <Page form="CreatePostingReference1" title="Posting Reference" description="Please enter the department name" />
      </Wizard>
      <Form name="Custom_RoleRestricted_Full">
        <Actions all="not hasWorkspace('AccountUsage')">
          <Exclude>
            <If condition="hasWorkspace('AdvancedDimensions') and not hasRole('Finance Admin')">
              <Create />
            </If>
            <If condition="not hasRole('Finance Admin')">
              <Update />
              <Delete />
            </If>
          </Exclude>
        </Actions>
        <Row>
          <Column>
            <Group title="Department">
              <Field source="Name" />
              <Field source="Address1" appearance="maximized" />
              <Field source="Address2" appearance="maximized" />
              <Field source="Address3" appearance="maximized" />
              <Field source="Address4" appearance="maximized" />
            </Group>
          </Column>
          <Column>
            <Group ref="UserUpdateGroup" />
          </Column>
        </Row>
      </Form>
      <Form name="Full">
        <Actions all="not hasWorkspace('AccountUsage')">
          <Exclude>
            <If condition="hasWorkspace('AdvancedDimensions')">
              <Create />
            </If>
          </Exclude>
        </Actions>
        <Row>
          <Column>
            <Group title="Department">
              <Field source="Name" />
              <Field source="Address1" appearance="maximized" />
              <Field source="Address2" appearance="maximized" />
              <Field source="Address3" appearance="maximized" />
              <Field source="Address4" appearance="maximized" />
            </Group>
          </Column>
          <Column>
            <Group ref="UserUpdateGroup" />
          </Column>
        </Row>
      </Form>
      <Form name="CreatePostingReference1">
        <Actions all="true" />
        <Row>
          <Group title="">
            <Field source="Name" />
          </Group>
        </Row>
      </Form>
    </UpperPane>
    <LowerPane>
      <Table name="Custom_RoleRestricted_Full">
        <Actions all="true" >
          <Exclude>
            <If condition="not hasRole('Finance Admin')">
              <Create />
              <Update />
              <Delete />
            </If>
          </Exclude>
        </Actions>
        <Columns>
          <Field source="TypeOfEntry" size="huge" />
          <Field source="AccountNumber" title="Dimension Combination No." />
          <Field source="DimensionCombDescriptionVar" title="Description" size="huge" />
        </Columns>
      </Table>
      <Table name="Full">
        <Actions all="true" />
        <Columns>
          <Field source="TypeOfEntry" size="huge" />
          <Field source="AccountNumber" title="Dimension Combination No." />
          <Field source="DimensionCombDescriptionVar" title="Description" size="huge" />
        </Columns>
      </Table>
      <Table name="Custom_RoleRestricted_DimensionOrigin">
        <Actions>
          <Update />
        </Actions>
        <Columns>
        <If condition="hasRole('Finance Admin')" >
          <Field source="TypeOfEntry" size="huge" open="false" />
          <Field source="AccountNumber" open="AccountNumber=Parent.Parent.DimensionCombNumber">
            <Style ref="highlightRow" condition="AccountNumber=Parent.Parent.DimensionCombNumber" />
          </Field>
          <Field source="DimensionCombDescriptionVar" title="Description" size="huge" open="false" />
        </If>
        <Else>
          <Field source="TypeOfEntry" size="huge" open="false" />
          <Field source="AccountNumber" open="false" >
            <Style ref="highlightRow" condition="AccountNumber=Parent.Parent.DimensionCombNumber" />
          </Field>
          <Field source="DimensionCombDescriptionVar" title="Description" size="huge" open="false" /> 
        </Else>
        </Columns> 
      </Table>
      <Table name="DimensionOrigin">
        <Actions>
          <Update />
        </Actions>
        <Columns>
          <Field source="TypeOfEntry" size="huge" open="false" />
          <Field source="AccountNumber" open="AccountNumber=Parent.Parent.DimensionCombNumber">
            <Style ref="highlightRow" condition="AccountNumber=Parent.Parent.DimensionCombNumber" />
          </Field>
          <Field source="DimensionCombDescriptionVar" title="Description" size="huge" open="false" />
        </Columns>
      </Table>
    </LowerPane>
  </Layout>
</MDML>

