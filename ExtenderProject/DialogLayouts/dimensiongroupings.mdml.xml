<?xml version="1.0" encoding="UTF-8"?>
<!-- RMA, 06/04/09: Create empty forms for every dialog (37642).-->
<!-- JSV, 02/07/09: Insert Original layout converted from mdl and filter layout (37802).-->
<!-- MJA, 27/10/09: Update Original layout and remove Empty layout (37802).-->
<!-- CSK, 29/01/10: OriginalWithoutCreateDelete view added for Companies workspace (37818).-->
<!-- CSK, 29/01/10: Changes to original filter and layouts regarding user island and no card actions in the table part (37818).-->
<!-- SBA, 03/02/10: Introduce dynamic column headings in mdml (38258).-->
<!-- CSK, 12/02/10: OriginalWithoutCreateDelete view deleted (38278).-->
<!-- KUN, 07/07/10: Added group and columns for user update information (38625).-->
<!-- JSV, 16/07/10: Show OptionListNumber1 and SelectedOption1 (38296).-->
<!-- CSK, 19/11/10: Original layouts improved (39092).-->
<!-- JSV, 29/11/10: Compact block for Original filter (39106).-->
<!-- CSK, 13/12/10: Use global style fullWidth for anchoring (39214).-->
<!-- BPE, 18/01/11: Moving create action from card to filter (39334).-->
<!-- CSK, 04/04/11: New Dimension view (39492).-->
<!-- CSK, 12/04/11: Improvements for Accounts workspace (39547).-->
<!-- PSZ, 20/06/11: Original layout should be placed as the first layout (39299).-->
<!-- JSV, 24/08/11: Use reference element where possible (39874).-->
<!-- PSZ, 05/10/11: Add shadow titles for selected relations (40004).-->
<!-- CSK, 19/10/11: Wizard title improved (40064).-->
<MDML xmlns="http://www.deltek.com/ns/mdml" version="0.59">
  <Layout source="DimensionGroupings">
    <FilterPane>
      <Filter name="Standard">
        <Actions>
          <If condition="hasWorkspace('FinancialReporting')">
            <Action source="with.Create" wizard="CreateDimensionGrouping" title="New Dimension Grouping" />
          </If>
        </Actions>
        <Compact>
          <Description template="^1" arguments="DimGroupingNumber" />
        </Compact>
        <Columns>
          <Field source="DimGroupingNumber" />
          <Field source="Description" />
          <Field source="DimGroupingType" />
          <Field source="OptionListNumber1" />
          <Field source="SelectedOption1" />
          <Field source="Standard" />
        </Columns>
      </Filter>
      <Filter name="Dimension">
        <Parameters>
          <Parameter name="DimensionPar" type="string" />
        </Parameters>
        <ControlBar>
          <Selection>
            <If condition="DimensionPar='Account'">
              <Option title="Account" restriction="DimGroupingType=ReportingHierarchyTypeType'Account" />
            </If>
            <If condition="DimensionPar='Location'">
              <Option title="Location" restriction="DimGroupingType=ReportingHierarchyTypeType'Location" />
            </If>
            <If condition="DimensionPar='Entity'">
              <Option title="Entity" restriction="DimGroupingType=ReportingHierarchyTypeType'Entity" />
            </If>
            <If condition="DimensionPar='Project'">
              <Option title="Project" restriction="DimGroupingType=ReportingHierarchyTypeType'Project" />
            </If>
            <If condition="DimensionPar='Purpose'">
              <Option title="Purpose" restriction="DimGroupingType=ReportingHierarchyTypeType'Purpose" />
            </If>
            <If condition="DimensionPar='Specification1'">
              <Option title="Specification1" restriction="DimGroupingType=ReportingHierarchyTypeType'Specification_1" />
            </If>
            <If condition="DimensionPar='Specification2'">
              <Option title="Specification2" restriction="DimGroupingType=ReportingHierarchyTypeType'Specification_2" />
            </If>
            <If condition="DimensionPar='Specification3'">
              <Option title="Specification3" restriction="DimGroupingType=ReportingHierarchyTypeType'Specification_3" />
            </If>
            <If condition="DimensionPar='LocalSpecification1'">
              <Option title="LocalSpecification1" restriction="DimGroupingType=ReportingHierarchyTypeType'Local_Specification_1" />
            </If>
            <If condition="DimensionPar='LocalSpecification2'">
              <Option title="LocalSpecification2" restriction="DimGroupingType=ReportingHierarchyTypeType'Local_Specification_2" />
            </If>
            <If condition="DimensionPar='LocalSpecification3'">
              <Option title="LocalSpecification3" restriction="DimGroupingType=ReportingHierarchyTypeType'Local_Specification_3" />
            </If>
          </Selection>
        </ControlBar>
        <Compact>
          <Description template="^1" arguments="DimGroupingNumber" />
        </Compact>
        <Columns>
          <Field source="DimGroupingNumber" />
          <Field source="Description" />
        </Columns>
      </Filter>
    </FilterPane>
    <UpperPane>
      <Wizard name="GetFromReportingHierarchy" title="Get From Reporting Hierarchy">
        <Page form="GetFromReportingHierarchyPage1" title="Reporting Hierarchy" description="Please enter the reporting hierarchy from which the dimension grouping should be created" />
      </Wizard>
      <Wizard name="CreateDimensionGrouping" title="Create Dimension Grouping">
        <Page form="CreateDimensionGrouping1" title="Dimension Grouping" description="Please enter the dimension grouping number and type" />
      </Wizard>
      <Form name="Custom_RoleRestricted_Full" open="hasRole('Finance Admin')" >
        <Actions all="true">
          <Exclude>
            <If condition="hasWorkspace('FinancialReporting')">
              <Create />
            </If>
            <If condition="hasWorkspace('GlobalDimensions') or hasWorkspace('LocalDimensions') or hasWorkspace('GlobalAccounts')">
              <Create />
              <Delete />
            </If>
          </Exclude>
          <Action source="GetFromReportingHierarchy" wizard="GetFromReportingHierarchy" />
        </Actions>
        <Row>
          <Column style="fullWidth">
            <Group title="Dimension Grouping">
              <Field source="DimGroupingNumber" />
              <Field source="Description" />
              <Field source="DimGroupingType" />
              <Field source="OptionListNumber1" />
              <Field source="SelectedOption1" />
              <Boolean source="Standard" />
            </Group>
            <Group title="Access Level">
              <Reference foreignKey="AccessLevelName_AccessLevelHeader" keyShadowTitle="Name" descriptionShadowTitle="Description" />
            </Group>
          </Column>
          <Column>
            <Group ref="UserUpdateGroup" />
          </Column>
        </Row>
      </Form>
      <Form name="Full">
        <Actions all="true">
          <Exclude>
            <If condition="hasWorkspace('FinancialReporting')">
              <Create />
            </If>
            <If condition="hasWorkspace('GlobalDimensions') or hasWorkspace('LocalDimensions') or hasWorkspace('GlobalAccounts')">
              <Create />
              <Delete />
            </If>
          </Exclude>
          <Action source="GetFromReportingHierarchy" wizard="GetFromReportingHierarchy" />
        </Actions>
        <Row>
          <Column style="fullWidth">
            <Group title="Dimension Grouping">
              <Field source="DimGroupingNumber" />
              <Field source="Description" />
              <Field source="DimGroupingType" />
              <Field source="OptionListNumber1" />
              <Field source="SelectedOption1" />
              <Boolean source="Standard" />
            </Group>
            <Group title="Access Level">
              <Reference foreignKey="AccessLevelName_AccessLevelHeader" keyShadowTitle="Name" descriptionShadowTitle="Description" />
            </Group>
          </Column>
          <Column>
            <Group ref="UserUpdateGroup" />
          </Column>
        </Row>
      </Form>
      <Form name="GetFromReportingHierarchyPage1">
        <Actions all="true" />
        <Row>
          <Group title="">
            <Field source="ReportingHierarchyNumberVar" title="Reporting Hierarchy No." />
          </Group>
        </Row>
      </Form>
      <Form name="CreateDimensionGrouping1">
        <Actions all="true" />
        <Row>
          <Group title="" style="fullWidth">
            <Field source="DimGroupingNumber" />
            <Field source="DimGroupingType" />
            <Field source="Description" />
            <Field source="OptionListNumber1" />
            <Field source="SelectedOption1" />
          </Group>
        </Row>
      </Form>
    </UpperPane>
    <LowerPane>
      <Table name="Custom_RoleRestricted_Full" open="hasRole('Finance Admin')" >
        <Actions all="true" />
        <Columns>
          <Field source="StringKey1" titleValue="parent.StringKey1FixedTextVar" />
          <Field source="Sorting1" title="Sorting Key" />
          <Field source="Grouping1" />
          <Field source="Grouping2" />
          <Field source="Grouping3" />
          <Field source="Grouping4" />
          <Field source="Grouping5" />
          <Field source="Grouping6" />
          <Field source="Grouping7" />
          <Field source="Grouping8" />
          <Field source="Grouping9" />
          <Field source="Grouping10" />
          <Field source="Grouping11" />
          <Field source="Grouping12" />
        </Columns>
      </Table>
      <Table name="Full">
        <Actions all="true" />
        <Columns>
          <Field source="StringKey1" titleValue="parent.StringKey1FixedTextVar" />
          <Field source="Sorting1" title="Sorting Key" />
          <Field source="Grouping1" />
          <Field source="Grouping2" />
          <Field source="Grouping3" />
          <Field source="Grouping4" />
          <Field source="Grouping5" />
          <Field source="Grouping6" />
          <Field source="Grouping7" />
          <Field source="Grouping8" />
          <Field source="Grouping9" />
          <Field source="Grouping10" />
          <Field source="Grouping11" />
          <Field source="Grouping12" />
        </Columns>
      </Table>
    </LowerPane>
  </Layout>
</MDML>

