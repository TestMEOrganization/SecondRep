<?xml version="1.0" encoding="UTF-8"?>
<!-- RMA, 06/04/09: Create empty forms for every dialog (37642).-->
<!-- JSV, 02/07/09: Insert Original layout converted from mdl and filter layout (37802).-->
<!-- MJA, 27/10/09: Update Original layout and remove Empty layout (37802).-->
<!-- KUN, 07/07/10: Added group and columns for user update information (38625).-->
<!-- BPE, 09/09/10: Changed layout to use global definition dimensions (38815). -->
<!-- JSV, 29/11/10: Compact block for Original filter (39106).-->
<!-- CSK, 27/04/11: DimensionOrigin view added (39547).-->
<!-- PSZ, 20/06/11: Original layout should be placed as the first layout (39299).-->
<!-- CSK, 25/07/11: Full form improved (39789).-->
<!-- CSK, 05/09/11: Misspelling of Acquisitions corrected (39789).-->
<!-- CSK, 11/10/11: Possible to edit account in DimensionOrigin (39547).-->
<MDML xmlns="http://www.deltek.com/ns/mdml" version="0.59">
  <Layout source="AssetGroups">
    <FilterPane>
      <Filter name="Standard">
        <Actions>
          <If condition="hasWorkspace('FixedAssets')">
            <Action source="with.Create" wizard="CreateAssetGroupWizard" />
          </If>
        </Actions>
        <Compact>
          <Description template="^1" arguments="AssetGroupName" />
        </Compact>
        <Columns>
          <Field source="AssetGroupName" />
          <Field source="Description" />
          <Field source="DepreciationMethod" size="large" />
        </Columns>
      </Filter>
    </FilterPane>
    <UpperPane>
      <Define>
        <Include fragment="GD_Dimensions" />
        <Function name="isAccount" parameters="FieldPar" value="FieldPar=Parent.DimensionCombNumber" />
      </Define>
      <Wizard name="CreateAssetGroupWizard" title="New Asset Group">
        <Page form="CreateAssetGroupWizardPage1" title="Step 1 of 2" description="Please enter the name and posting references" />
        <Page form="CreateAssetGroupWizardPage2" title="Step 2 of 2" description="Please enter the posting references" />
      </Wizard>
      <Form name="Full">
        <Actions all="true">
          <Exclude>
            <If condition="hasWorkspace('FixedAssets')">
              <Create />
            </If>
          </Exclude>
        </Actions>
        <Row>
          <Column>
            <Group title="Asset Group">
              <Field source="AssetGroupName" />
              <Field source="Description" />
            </Group>
            <Group title="Depreciation Information">
              <Field source="DepreciationMethod" size="large" />
              <Field source="DepreciationPeriod" size="large" />
            </Group>
            <Group title="Company">
              <Reference foreignKey="CompanyNumber_CompanyInformation" title="Company" />
            </Group>
            <Group ref="DimensionGroup" />
            <Group ref="UserUpdateGroup" />
          </Column>
          <Column>
            <Group title="Acquisitions">
              <Reference foreignKey="AcquisitionAccountNumber_DimensionCombHeader" title="Posting Reference" />
              <Reference foreignKey="AcquisitionOffsetAccountNumber_DimensionCombHeader" title="Offset" />
              <Field source="AcquisitionEntryText" title="Description{Text}" />
            </Group>
            <Group title="External Sale">
              <Reference foreignKey="SalesAccountNumber_DimensionCombHeader" title="Posting Reference" />
              <Reference foreignKey="SalesLossAccountNumber_DimensionCombHeader" title="Loss" />
              <Reference foreignKey="SalesGainAccountNumber_DimensionCombHeader" title="Gain" />
              <Field source="SalesEntryText" title="Description{Text}" />
            </Group>
            <Group title="Depreciation">
              <Reference foreignKey="DepreciationAccountNumber_DimensionCombHeader" title="Posting Reference" />
              <Reference foreignKey="DepreciationOffsetAccountNumber_DimensionCombHeader" title="Offset" />
              <Field source="DepreciationEntryText" title="Description{Text}" />
            </Group>
            <Group title="Write-Ups">
              <Reference foreignKey="WriteUpAccountNumber_DimensionCombHeader" title="Posting Reference" />
              <Reference foreignKey="WriteUpOffsetAccountNumber_DimensionCombHeader" title="Offset" />
              <Field source="WriteUpEntryText" title="Description{Text}" />
            </Group>
            <Group title="Internal Sales">
              <Reference foreignKey="InternalSalesAccountNumber_DimensionCombHeader" title="Posting Reference" />
              <Reference foreignKey="InternalSalesLossAccountNumber_DimensionCombHeader" title="Loss" />
              <Reference foreignKey="InternalSalesGainAccountNumber_DimensionCombHeader" title="Gain" />
              <Field source="InternalSalesEntryText" title="Description{Text}" />
            </Group>
          </Column>
        </Row>
      </Form>
      <Form name="CreateAssetGroupWizardPage1">
        <Actions all="true" />
        <Column style="fullWidth">
          <Group title="Asset Group">
            <Field source="AssetGroupName" />
            <Field source="Description" />
          </Group>
          <Group title="Acquisitions">
            <Reference foreignKey="AcquisitionAccountNumber_DimensionCombHeader" title="Posting Reference" />
            <Reference foreignKey="AcquisitionOffsetAccountNumber_DimensionCombHeader" title="Offset" />
            <Field source="AcquisitionEntryText" title="Description{Text}" />
          </Group>
          <Group title="External Sale">
            <Reference foreignKey="SalesAccountNumber_DimensionCombHeader" title="Posting Reference" />
            <Reference foreignKey="SalesLossAccountNumber_DimensionCombHeader" title="Loss" />
            <Reference foreignKey="SalesGainAccountNumber_DimensionCombHeader" title="Gain" />
            <Field source="SalesEntryText" title="Description{Text}" />
          </Group>
        </Column>
      </Form>
      <Form name="CreateAssetGroupWizardPage2">
        <Actions all="true" />
        <Column style="fullWidth">
          <Group title="Depreciation">
            <Reference foreignKey="DepreciationAccountNumber_DimensionCombHeader" title="Posting Reference" />
            <Reference foreignKey="DepreciationOffsetAccountNumber_DimensionCombHeader" title="Offset" />
            <Field source="DepreciationEntryText" title="Description{Text}" />
          </Group>
          <Group title="Write-Ups">
            <Reference foreignKey="WriteUpAccountNumber_DimensionCombHeader" title="Posting Reference" />
            <Reference foreignKey="WriteUpOffsetAccountNumber_DimensionCombHeader" title="Offset" />
            <Field source="WriteUpEntryText" title="Description{Text}" />
          </Group>
          <Group title="Internal Sales">
            <Reference foreignKey="InternalSalesAccountNumber_DimensionCombHeader" title="Posting Reference" />
            <Reference foreignKey="InternalSalesLossAccountNumber_DimensionCombHeader" title="Loss" />
            <Reference foreignKey="InternalSalesGainAccountNumber_DimensionCombHeader" title="Gain" />
            <Field source="InternalSalesEntryText" title="Description{Text}" />
          </Group>
        </Column>
      </Form>
      <Form name="Custom_RoleRestricted_DimensionOrigin" open="false">
        <Actions>
          <Update />
        </Actions>
        <Row>
        <If condition="hasRole('Finance Admin')" >
          <Column style="fullWidth">
            <Group title="Asset Group">
              <Field source="AssetGroupName" />
              <Field source="Description" />
            </Group>
            <Group title="Acquisitions">
              <If condition="isAccount(AcquisitionAccountNumber)">
                <Field source="AcquisitionAccountNumber" title="Posting Reference" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="AcquisitionAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(AcquisitionOffsetAccountNumber)">
                <Field source="AcquisitionOffsetAccountNumber" title="Offset" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="AcquisitionOffsetAccountNumber" title="Offset" />
              </Else>
              <Field source="AcquisitionEntryText" title="Description{Text}" />
            </Group>
            <Group title="External Sale">
              <If condition="isAccount(SalesAccountNumber)">
                <Field source="SalesAccountNumber" title="Posting Reference" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="SalesAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(SalesLossAccountNumber)">
                <Field source="SalesLossAccountNumber" title="Loss" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="SalesLossAccountNumber" title="Loss" />
              </Else>
              <If condition="isAccount(SalesGainAccountNumber)">
                <Field source="SalesGainAccountNumber" title="Gain" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="SalesGainAccountNumber" title="Gain" />
              </Else>
              <Field source="SalesEntryText" title="Description{Text}" />
            </Group>
            <Group title="Depreciation">
              <If condition="isAccount(DepreciationAccountNumber)">
                <Field source="DepreciationAccountNumber" title="Posting Reference" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="DepreciationAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(DepreciationOffsetAccountNumber)">
                <Field source="DepreciationOffsetAccountNumber" title="Offset" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="DepreciationOffsetAccountNumber" title="Offset" />
              </Else>
              <Field source="DepreciationEntryText" title="Description{Text}" />
            </Group>
            <Group title="Write-Ups">
              <If condition="isAccount(WriteUpAccountNumber)">
                <Field source="WriteUpAccountNumber" title="Posting Reference" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="WriteUpAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(WriteUpOffsetAccountNumber)">
                <Field source="WriteUpOffsetAccountNumber" title="Offset" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="WriteUpOffsetAccountNumber" title="Offset" />
              </Else>
              <Field source="WriteUpEntryText" title="Description{Text}" />
            </Group>
            <Group title="Internal Sales">
              <If condition="isAccount(InternalSalesAccountNumber)">
                <Field source="InternalSalesAccountNumber" title="Posting Reference" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="InternalSalesAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(InternalSalesLossAccountNumber)">
                <Field source="InternalSalesLossAccountNumber" title="Loss" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="InternalSalesLossAccountNumber" title="Loss" />
              </Else>
              <If condition="isAccount(InternalSalesGainAccountNumber)">
                <Field source="InternalSalesGainAccountNumber" title="Gain" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="InternalSalesGainAccountNumber" title="Gain" />
              </Else>
              <Field source="InternalSalesEntryText" title="Description{Text}" />
            </Group>
          </Column>
          <Column>
            <Group title="Depreciation Information">
              <Field source="DepreciationMethod" />
              <Field source="DepreciationPeriod" />
            </Group>
            <Group title="Company">
              <Reference foreignKey="CompanyNumber_CompanyInformation" title="Company" />
            </Group>
            <Group ref="DimensionGroup" />
            <Group ref="UserUpdateGroup" />
          </Column>
          </If>
          <Else>
          <Column style="fullWidth">
            <Group title="Asset Group">
              <Field source="AssetGroupName" />
              <Field source="Description" />
            </Group>
            <Group title="Acquisitions">
              <If condition="isAccount(AcquisitionAccountNumber)">
                <Field source="AcquisitionAccountNumber" title="Posting Reference" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="AcquisitionAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(AcquisitionOffsetAccountNumber)">
                <Field source="AcquisitionOffsetAccountNumber" title="Offset" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="AcquisitionOffsetAccountNumber" title="Offset" />
              </Else>
              <Field source="AcquisitionEntryText" title="Description{Text}" />
            </Group>
            <Group title="External Sale">
              <If condition="isAccount(SalesAccountNumber)">
                <Field source="SalesAccountNumber" title="Posting Reference" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="SalesAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(SalesLossAccountNumber)">
                <Field source="SalesLossAccountNumber" title="Loss" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="SalesLossAccountNumber" title="Loss" />
              </Else>
              <If condition="isAccount(SalesGainAccountNumber)">
                <Field source="SalesGainAccountNumber" title="Gain" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="SalesGainAccountNumber" title="Gain" />
              </Else>
              <Field source="SalesEntryText" title="Description{Text}" />
            </Group>
            <Group title="Depreciation">
              <If condition="isAccount(DepreciationAccountNumber)">
                <Field source="DepreciationAccountNumber" title="Posting Reference" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="DepreciationAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(DepreciationOffsetAccountNumber)">
                <Field source="DepreciationOffsetAccountNumber" title="Offset" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="DepreciationOffsetAccountNumber" title="Offset" />
              </Else>
              <Field source="DepreciationEntryText" title="Description{Text}" />
            </Group>
            <Group title="Write-Ups">
              <If condition="isAccount(WriteUpAccountNumber)">
                <Field source="WriteUpAccountNumber" title="Posting Reference" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="WriteUpAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(WriteUpOffsetAccountNumber)">
                <Field source="WriteUpOffsetAccountNumber" title="Offset" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="WriteUpOffsetAccountNumber" title="Offset" />
              </Else>
              <Field source="WriteUpEntryText" title="Description{Text}" />
            </Group>
            <Group title="Internal Sales">
              <If condition="isAccount(InternalSalesAccountNumber)">
                <Field source="InternalSalesAccountNumber" title="Posting Reference" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="InternalSalesAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(InternalSalesLossAccountNumber)">
                <Field source="InternalSalesLossAccountNumber" title="Loss" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="InternalSalesLossAccountNumber" title="Loss" />
              </Else>
              <If condition="isAccount(InternalSalesGainAccountNumber)">
                <Field source="InternalSalesGainAccountNumber" title="Gain" open="false" style="highlightRow" />
              </If>
              <Else>
                <Field source="InternalSalesGainAccountNumber" title="Gain" />
              </Else>
              <Field source="InternalSalesEntryText" title="Description{Text}" />
            </Group>
          </Column>
          <Column>
            <Group title="Depreciation Information">
              <Field source="DepreciationMethod" />
              <Field source="DepreciationPeriod" />
            </Group>
            <Group title="Company">
              <Reference foreignKey="CompanyNumber_CompanyInformation" title="Company" />
            </Group>
            <Group ref="DimensionGroup" />
            <Group ref="UserUpdateGroup" />
          </Column>
          </Else>
        </Row>
      </Form>
      <Form name="DimensionOrigin" open="false">
        <Actions>
          <Update />
        </Actions>
        <Row>
          <Column style="fullWidth">
            <Group title="Asset Group">
              <Field source="AssetGroupName" />
              <Field source="Description" />
            </Group>
            <Group title="Acquisitions">
              <If condition="isAccount(AcquisitionAccountNumber)">
                <Field source="AcquisitionAccountNumber" title="Posting Reference" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="AcquisitionAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(AcquisitionOffsetAccountNumber)">
                <Field source="AcquisitionOffsetAccountNumber" title="Offset" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="AcquisitionOffsetAccountNumber" title="Offset" />
              </Else>
              <Field source="AcquisitionEntryText" title="Description{Text}" />
            </Group>
            <Group title="External Sale">
              <If condition="isAccount(SalesAccountNumber)">
                <Field source="SalesAccountNumber" title="Posting Reference" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="SalesAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(SalesLossAccountNumber)">
                <Field source="SalesLossAccountNumber" title="Loss" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="SalesLossAccountNumber" title="Loss" />
              </Else>
              <If condition="isAccount(SalesGainAccountNumber)">
                <Field source="SalesGainAccountNumber" title="Gain" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="SalesGainAccountNumber" title="Gain" />
              </Else>
              <Field source="SalesEntryText" title="Description{Text}" />
            </Group>
            <Group title="Depreciation">
              <If condition="isAccount(DepreciationAccountNumber)">
                <Field source="DepreciationAccountNumber" title="Posting Reference" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="DepreciationAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(DepreciationOffsetAccountNumber)">
                <Field source="DepreciationOffsetAccountNumber" title="Offset" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="DepreciationOffsetAccountNumber" title="Offset" />
              </Else>
              <Field source="DepreciationEntryText" title="Description{Text}" />
            </Group>
            <Group title="Write-Ups">
              <If condition="isAccount(WriteUpAccountNumber)">
                <Field source="WriteUpAccountNumber" title="Posting Reference" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="WriteUpAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(WriteUpOffsetAccountNumber)">
                <Field source="WriteUpOffsetAccountNumber" title="Offset" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="WriteUpOffsetAccountNumber" title="Offset" />
              </Else>
              <Field source="WriteUpEntryText" title="Description{Text}" />
            </Group>
            <Group title="Internal Sales">
              <If condition="isAccount(InternalSalesAccountNumber)">
                <Field source="InternalSalesAccountNumber" title="Posting Reference" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="InternalSalesAccountNumber" title="Posting Reference" />
              </Else>
              <If condition="isAccount(InternalSalesLossAccountNumber)">
                <Field source="InternalSalesLossAccountNumber" title="Loss" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="InternalSalesLossAccountNumber" title="Loss" />
              </Else>
              <If condition="isAccount(InternalSalesGainAccountNumber)">
                <Field source="InternalSalesGainAccountNumber" title="Gain" open="true" style="highlightRow" />
              </If>
              <Else>
                <Field source="InternalSalesGainAccountNumber" title="Gain" />
              </Else>
              <Field source="InternalSalesEntryText" title="Description{Text}" />
            </Group>
          </Column>
          <Column>
            <Group title="Depreciation Information">
              <Field source="DepreciationMethod" />
              <Field source="DepreciationPeriod" />
            </Group>
            <Group title="Company">
              <Reference foreignKey="CompanyNumber_CompanyInformation" title="Company" />
            </Group>
            <Group ref="DimensionGroup" />
            <Group ref="UserUpdateGroup" />
          </Column>
        </Row>
      </Form>
    </UpperPane>
  </Layout>
</MDML>

